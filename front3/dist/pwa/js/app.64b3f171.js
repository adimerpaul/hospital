(()=>{var e={4038:(e,t,o)=>{"use strict";o(18964);var a=o(61957),i=o(71947),l=o(60499),s=o(59835);function n(e,t,o,a,i,l){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(n)}const r=(0,s.aZ)({name:"App"});var d=o(11639);const c=(0,d.Z)(r,[["render",n]]),u=c;var m=o(23340),p=o(81809);const h=(0,m.h)((()=>{const e=(0,p.WB)();return e}));var g=o(28339),f=o(86970);const A={class:"row"},y={class:"col-12 col-sm-8"},C={class:"row q-pa-xs"},I=(0,s._)("div",{class:"col-12 bg-primary text-bold text-uppercase text-white text-center"},"Categorias",-1),w={class:"text-white text-bold"},b={class:"col-12 bg-primary text-bold text-uppercase text-white text-center"},O={class:"text-white text-caption"},_=(0,s._)("br",null,null,-1),E={class:"col-12 col-sm-4 q-pa-xs"},v={class:"col-2"},R={class:"text-bold text-grey"},T={class:"text-red"},S=(0,s._)("div",{class:"col-9"},null,-1),x={class:"col-1"},U=(0,s._)("div",{class:"text-subtitle2 flex-center flex text-center bg-primary text-white"},"PRODUCTOS",-1),D=(0,s._)("div",{class:"row items-center bg-primary text-white"},[(0,s._)("div",{class:"col-2 text-center text-bold"},"CANTIDAD"),(0,s._)("div",{class:"col-6 text-center text-bold"},"NOMBRE"),(0,s._)("div",{class:"col-2 text-center text-bold"},"PRECIO"),(0,s._)("div",{class:"col-2 text-center text-bold"},"SUBTOTAL")],-1),k={class:"col-2 text-center text-bold"},V={class:"col-6"},W={class:"col-2 text-right"},L={class:"col-2 text-right q-pr-xs text-bold"};function q(e,t,o,a,i,l){const n=(0,s.up)("q-img"),r=(0,s.up)("q-card-section"),d=(0,s.up)("q-card"),c=(0,s.up)("q-badge"),u=(0,s.up)("q-btn"),m=(0,s.up)("q-input"),p=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",A,[(0,s._)("div",y,[(0,s._)("div",C,[I,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.categories,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"col-2"},[(0,s.Wm)(d,{bordered:"",onClick:t=>l.productosAdd(e)},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"q-pa-none q-ma-none",style:(0,f.j5)(`background: ${e.color}`)},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{src:`${i.url}../imagenes/${e.photo}`,style:{"border-radius":"50%"},height:"130px"},null,8,["src"]),(0,s._)("div",{class:"absolute-bottom text-subtitle1 text-center",style:(0,f.j5)(`background: ${e.color};opacity: 0.9`)},[(0,s._)("span",w,(0,f.zw)(e.name),1)],4)])),_:2},1032,["style"])])),_:2},1032,["onClick"])])))),128)),(0,s._)("div",b,"Productos ("+(0,f.zw)(i.category.name)+")",1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(e=>((0,s.wg)(),(0,s.iD)(s.HY,{key:`p${e.id}`},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.lots,(t=>((0,s.wg)(),(0,s.iD)("div",{key:`l${t.id}`,class:"col-2 q-pa-xs"},[(0,s.Wm)(d,{bordered:"",onClick:o=>l.saleAdd(e,t)},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"q-pa-none q-ma-none",style:(0,f.j5)(`background: ${e.color}`)},{default:(0,s.w5)((()=>[t.cantidad>0?((0,s.wg)(),(0,s.j4)(c,{key:0,color:"orange",floating:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(t.cantidad),1)])),_:2},1024)):(0,s.kq)("",!0),(0,s.Wm)(n,{src:`${i.url}../imagenes/${e.photo}`,style:{"border-radius":"50%"},height:"130px"},null,8,["src"]),(0,s._)("div",{class:"absolute-bottom text-subtitle1 text-center",style:(0,f.j5)(`background: ${e.color};opacity: 0.9`)},[(0,s._)("div",O,[(0,s.Uk)((0,f.zw)(e.name)+" "+(0,f.zw)(t.batch)+" ",1),_,(0,s.Uk)(" "+(0,f.zw)(t.priceSale)+" Bs- "+(0,f.zw)(t.quantity)+" U ",1)])],4)])),_:2},1032,["style"])])),_:2},1032,["onClick"])])))),128))],64)))),128))])]),(0,s._)("div",E,[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[(0,s._)("div",v,[(0,s._)("div",R,[(0,s.Uk)("Total: "),(0,s._)("span",T,(0,f.zw)(l.total)+"Bs.",1)])]),S,(0,s._)("div",x,[(0,s.Wm)(u,{icon:"delete_outline",dense:"",color:"negative",onClick:l.saleClear},null,8,["onClick"])])])),_:1}),(0,s.Wm)(r,{class:"q-pa-none"},{default:(0,s.w5)((()=>[U])),_:1}),(0,s.Wm)(r,{class:"q-pa-none"},{default:(0,s.w5)((()=>[D,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.productSales,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"row items-center",key:e.id},[(0,s._)("div",k,[(0,s.Wm)(m,{modelValue:e.cantidad,"onUpdate:modelValue":t=>e.cantidad=t,dense:"",outlined:"",mask:"#",class:"text-right","fill-mask":"0","reverse-fill-mask":""},null,8,["modelValue","onUpdate:modelValue"])]),(0,s._)("div",V,(0,f.zw)(e.name),1),(0,s._)("div",W,[(0,s.Wm)(m,{modelValue:e.priceSale,"onUpdate:modelValue":t=>e.priceSale=t,dense:"",outlined:"",mask:"#",class:"text-right","fill-mask":"0","reverse-fill-mask":""},null,8,["modelValue","onUpdate:modelValue"])]),(0,s._)("div",L,(0,f.zw)(e.priceSale*e.cantidad)+"Bs.",1)])))),128))])),_:1})])),_:1})])])])),_:1})}o(69665);const P={name:"SaleItem",data(){return{url:"https://cmedical.siscenter.org/api/",sale:{},category:{},categories:[],products:[],product:{},productSales:[]}},created(){this.$api.get("categories").then((e=>{this.categories=e.data,this.category=this.categories[0],this.products=[],this.categories[0].products.forEach((e=>{e.lots.forEach((e=>{e.cantidad=0})),this.products.push(e)}))}))},methods:{saleClear(){this.productSales=[],this.products.forEach((e=>{e.lots.forEach((e=>{e.cantidad=0}))}))},productosAdd(e){this.category=e,this.products=e.products},saleAdd(e,t){t.cantidad++;const o=this.productSales.find((e=>e.id===t.id));o?o.cantidad++:this.productSales.push({id:t.id,name:e.name,priceSale:t.priceSale,cantidad:1})}},computed:{total(){let e=0;return this.productSales.forEach((t=>{e+=t.priceSale*t.cantidad})),e},porCobrar(){return this.total-this.monto}}};var N=o(69885),M=o(44458),G=o(63190),j=o(70335),$=o(20990),F=o(26384),Z=o(490),Q=o(76749),B=o(68879),H=o(66611),z=o(69984),Y=o.n(z);const K=(0,d.Z)(P,[["render",q]]),X=K;Y()(P,"components",{QPage:N.Z,QCard:M.Z,QCardSection:G.Z,QImg:j.Z,QBadge:$.Z,QSelect:F.Z,QItem:Z.Z,QItemSection:Q.Z,QBtn:B.Z,QInput:H.Z});const J={class:"text-bold"},ee=(0,s._)("div",{class:"text-h6"},"Crear paciente",-1),te={class:"row"},oe={class:"col-12 col-md-6"},ae={class:"col-12 col-md-6"},ie={class:"col-12 col-md-6"},le={class:"col-12 col-md-6"},se={class:"col-12 col-md-6"},ne={class:"col-12 col-md-6"},re={class:"col-12 col-md-6"},de={class:"flex flex-center text-bold"};function ce(e,t,o,i,l,n){const r=(0,s.up)("q-btn"),d=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-td"),m=(0,s.up)("q-tooltip"),p=(0,s.up)("q-btn-group"),h=(0,s.up)("q-table"),g=(0,s.up)("q-space"),A=(0,s.up)("q-card-section"),y=(0,s.up)("q-select"),C=(0,s.up)("q-card-actions"),I=(0,s.up)("q-form"),w=(0,s.up)("q-card"),b=(0,s.up)("q-dialog"),O=(0,s.up)("q-page"),_=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(O,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{rows:l.patients,columns:l.patientColumns,filter:l.filter,dense:"","rows-per-page-options":[0]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(r,{color:"primary",dense:"",icon:"add_circle_outline",label:"Crear paciente","no-caps":"",onClick:n.patientAddClick},null,8,["onClick"]),(0,s.Wm)(r,{flat:"",dense:"",icon:"refresh","no-caps":"",onClick:n.patientGet},null,8,["onClick"]),(0,s.Wm)(c,{modelValue:l.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filter=e),label:"Search",dense:"",outlined:""},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-edad":(0,s.w5)((e=>[(0,s.Wm)(u,{props:e,class:"text-center"},{default:(0,s.w5)((()=>[(0,s._)("div",J,(0,f.zw)(n.calcularEdad(e.row.birthday)),1)])),_:2},1032,["props"])])),"body-cell-options":(0,s.w5)((e=>[(0,s.Wm)(u,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{dense:"",icon:"o_delete",onClick:t=>n.patientDeleteClick(e.row),color:"negative"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Eliminar")])),_:1})])),_:2},1032,["onClick"]),(0,s.Wm)(r,{dense:"",icon:"o_edit",onClick:t=>n.patientEditClick(e.row),color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Editar")])),_:1})])),_:2},1032,["onClick"]),(0,s.Wm)(r,{dense:"",icon:"o_history",to:`history/${e.row.id}`,"no-caps":"",color:"cyan"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Historial Clinico")])),_:1})])),_:2},1032,["to"])])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,s.Wm)(b,{modelValue:l.patientShow,"onUpdate:modelValue":t[8]||(t[8]=e=>l.patientShow=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{style:{width:"700px","max-width":"90vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(A,{class:"row items-center"},{default:(0,s.w5)((()=>[ee,(0,s.Wm)(g),(0,s.wy)((0,s.Wm)(r,{flat:"",icon:"close"},null,512),[[_]])])),_:1}),(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,{onSubmit:(0,a.iM)(n.patientSubmit,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",te,[(0,s._)("div",oe,[(0,s.Wm)(c,{modelValue:l.patient.name,"onUpdate:modelValue":t[1]||(t[1]=e=>l.patient.name=e),label:"Nombre",outlined:"",hint:"",dense:"",required:""},null,8,["modelValue"])]),(0,s._)("div",ae,[(0,s.Wm)(c,{modelValue:l.patient.lastname,"onUpdate:modelValue":t[2]||(t[2]=e=>l.patient.lastname=e),label:"Apellido",outlined:"",hint:"",dense:""},null,8,["modelValue"])]),(0,s._)("div",ie,[(0,s.Wm)(y,{modelValue:l.patient.sex,"onUpdate:modelValue":t[3]||(t[3]=e=>l.patient.sex=e),label:"Sexo",outlined:"",hint:"",dense:"",required:"",options:["MASCULINO","FEMENINO"]},null,8,["modelValue"])]),(0,s._)("div",le,[(0,s.Wm)(c,{modelValue:l.patient.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>l.patient.phone=e),label:"Teléfono",outlined:"",hint:"",dense:""},null,8,["modelValue"])]),(0,s._)("div",se,[(0,s.Wm)(c,{modelValue:l.patient.email,"onUpdate:modelValue":t[5]||(t[5]=e=>l.patient.email=e),label:"Email",outlined:"",hint:"",dense:""},null,8,["modelValue"])]),(0,s._)("div",ne,[(0,s.Wm)(c,{modelValue:l.patient.address,"onUpdate:modelValue":t[6]||(t[6]=e=>l.patient.address=e),label:"Dirección",outlined:"",hint:"",dense:""},null,8,["modelValue"])]),(0,s._)("div",re,[(0,s.Wm)(c,{modelValue:l.patient.birthday,"onUpdate:modelValue":t[7]||(t[7]=e=>l.patient.birthday=e),label:"Fecha de nacimiento",type:"date",outlined:"",hint:"",dense:""},null,8,["modelValue"])]),(0,s._)("div",de,(0,f.zw)(n.edad),1)]),(0,s.Wm)(C,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{color:"red",label:"Cancelar",icon:"o_delete"},null,512),[[_]]),(0,s.Wm)(r,{color:"green",icon:"check_circle_outline",label:"Guardar",type:"submit"})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var ue=o(4376),me=o(77292),pe=o(43878),he=o.n(pe);const ge={name:"PatientItem",data(){return{store:(0,me.A)(),filter:"",patientCreate:!0,patientShow:!1,url:"https://cmedical.siscenter.org/api/",patient:{birthday:ue.ZP.formatDate(new Date,"YYYY-MM-DD"),sex:"MASCULINO"},patients:[],patientColumns:[{name:"options",label:"OPCIONES",field:"options",sortable:!0},{name:"name",label:"NOMBRE",field:e=>`${e.name}  ${e.lastname}`,sortable:!0},{name:"email",label:"EMAIL",field:"email",sortable:!0},{name:"birthday",label:"FECHA DE NACIMIENTO",field:"birthday",sortable:!0},{name:"edad",label:"EDAD",field:"edad",sortable:!0},{name:"phone",label:"TELEFONO",field:"phone",sortable:!0},{name:"address",label:"DIRECCION",field:"address",sortable:!0}]}},created(){this.patientGet()},methods:{calcularEdad(e){const t=he()().diff(e,"years"),o=he()().diff(e,"months"),a=o-12*t,i=he()().diff(e,"days"),l=i-30*o;return` ${t} años ${a} meses ${l} días`},patientAddClick(){this.patientCreate=!0,this.patientShow=!0,this.patient={name:"",lastname:"",phone:"",email:"",address:"",avatar:"",birthday:ue.ZP.formatDate(new Date,"YYYY-MM-DD"),sex:"MASCULINO"}},patientSubmit(){this.patientCreate?(this.patient.hospital_id=this.store.user.hospital_id,this.$api.post("patients",this.patient).then((e=>{this.patientShow=!1,this.patientGet()})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"negative",icon:"o_report_problem"})}))):this.$api.put("patients/"+this.patient.id,this.patient).then((e=>{this.patientShow=!1,this.patientGet()})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"negative",icon:"o_report_problem"})}))},patientDeleteClick(e){this.$q.dialog({title:"Eliminar paciente",message:"¿Está seguro de eliminar este paciente?",ok:"Eliminar",cancel:"Cancelar",persistent:!0}).onOk((()=>{this.$api.delete("patients/"+e.id).then((e=>{this.patientGet()}))}))},patientEditClick(e){this.patientCreate=!1,this.patientShow=!0,this.patient=e},patientGet(){this.$q.loading.show(),this.$api.get("patients").then((e=>{this.patients=e.data})).catch((e=>{console.log(e),this.$q.notify({color:"negative",message:"Error al obtener los pacientes",icon:"error",position:"top"})})).finally((()=>{this.$q.loading.hide()}))}},computed:{edad(){const e=he()().diff(this.patient.birthday,"years"),t=he()().diff(this.patient.birthday,"months"),o=t-12*e,a=he()().diff(this.patient.birthday,"days"),i=a-30*t;return` ${e} años ${o} meses ${i} días`}}};var fe=o(77580),Ae=o(22857),ye=o(67220),Ce=o(67236),Ie=o(46858),we=o(32045),be=o(13246),Oe=o(32074),_e=o(90136),Ee=o(8326),ve=o(11821),Re=o(62146);const Te=(0,d.Z)(ge,[["render",ce]]),Se=Te;Y()(ge,"components",{QPage:N.Z,QTable:fe.Z,QBtn:B.Z,QInput:H.Z,QIcon:Ae.Z,QTd:ye.Z,QBtnGroup:Ce.Z,QTooltip:Ie.Z,QBtnDropdown:we.Z,QList:be.Z,QItem:Z.Z,QItemSection:Q.Z,QDialog:Oe.Z,QCard:M.Z,QCardSection:G.Z,QSpace:_e.Z,QForm:Ee.Z,QSelect:F.Z,QCardActions:ve.Z}),Y()(ge,"directives",{ClosePopup:Re.Z});const xe=(0,s._)("div",{class:"text-h6"},"Crear reserva",-1),Ue={class:"row"},De={class:"col-12"},ke={class:"row"},Ve={class:"col-11"},We={class:"col-1 flex flex-center"},Le={class:"col-6 col-md-6"},qe={class:"col-6 col-md-6"},Pe={class:"col-6 col-md-6"},Ne={class:"col-6 col-md-6"},Me={class:"col-6 text-bold"},Ge={class:"col-6 text-bold"},je={class:"col-12 text-bold"};function $e(e,t,o,i,l,n){const r=(0,s.up)("FullCalendar"),d=(0,s.up)("q-space"),c=(0,s.up)("q-btn"),u=(0,s.up)("q-card-section"),m=(0,s.up)("q-item-section"),p=(0,s.up)("q-item"),h=(0,s.up)("q-select"),g=(0,s.up)("q-tooltip"),A=(0,s.up)("q-input"),y=(0,s.up)("q-card-actions"),C=(0,s.up)("q-form"),I=(0,s.up)("q-card"),w=(0,s.up)("q-dialog"),b=(0,s.up)("q-page"),O=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(b,{class:"q-pa-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{options:l.calendarOptions},null,8,["options"]),(0,s.Wm)(w,{modelValue:l.reservationShow,"onUpdate:modelValue":t[7]||(t[7]=e=>l.reservationShow=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{style:{width:"700px","max-width":"90vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"row items-center"},{default:(0,s.w5)((()=>[xe,(0,s.Wm)(d),(0,s.wy)((0,s.Wm)(c,{flat:"",icon:"close"},null,512),[[O]])])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(C,{onSubmit:(0,a.iM)(n.reservationSubmit,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Ue,[(0,s._)("div",De,[(0,s._)("div",ke,[(0,s._)("div",Ve,[(0,s.Wm)(h,{onFilter:n.filterFn,"hide-hint":"",modelValue:l.patient,"onUpdate:modelValue":t[0]||(t[0]=e=>l.patient=e),"use-input":"","input-debounce":"0",label:"Paciente",outlined:"",dense:"",options:l.patients},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(p,{to:"/patient"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"text-grey"},{default:(0,s.w5)((()=>[(0,s.Uk)(" ¿Crear paciente? ")])),_:1})])),_:1})])),_:1},8,["onFilter","modelValue","options"])]),(0,s._)("div",We,[(0,s.Wm)(c,{color:"secondary",type:"a",href:`#/history/${l.patient.id}`,dense:"",icon:"history","no-caps":""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Ver historial")])),_:1})])),_:1},8,["href"])])])]),(0,s._)("div",Le,[(0,s.Wm)(A,{modelValue:l.reservation.start,"onUpdate:modelValue":t[1]||(t[1]=e=>l.reservation.start=e),label:"Fecha de inicio",type:"date",outlined:"",hint:"",dense:"",required:""},null,8,["modelValue"])]),(0,s._)("div",qe,[(0,s.Wm)(A,{modelValue:l.reservation.startTime,"onUpdate:modelValue":t[2]||(t[2]=e=>l.reservation.startTime=e),label:"Hora de inicio",type:"time",outlined:"",hint:"",dense:"",required:""},null,8,["modelValue"])]),(0,s._)("div",Pe,[(0,s.Wm)(A,{modelValue:l.reservation.end,"onUpdate:modelValue":t[3]||(t[3]=e=>l.reservation.end=e),label:"Fecha de fin",type:"date",outlined:"",hint:"",dense:"",required:""},null,8,["modelValue"])]),(0,s._)("div",Ne,[(0,s.Wm)(A,{modelValue:l.reservation.endTime,"onUpdate:modelValue":t[4]||(t[4]=e=>l.reservation.endTime=e),label:"Hora de fin",type:"time",outlined:"",hint:"",dense:"",required:""},null,8,["modelValue"])]),(0,s._)("div",Me,[(0,s.Wm)(A,{modelValue:l.reservation.description,"onUpdate:modelValue":t[5]||(t[5]=e=>l.reservation.description=e),label:"Descripción",outlined:"",hint:"",dense:"",required:""},null,8,["modelValue"])]),(0,s._)("div",Ge,[(0,s.Wm)(A,{modelValue:l.reservation.amount,"onUpdate:modelValue":t[6]||(t[6]=e=>l.reservation.amount=e),label:"Monto",outlined:"",hint:"",dense:"",required:"",type:"number",step:"0.01"},null,8,["modelValue"])]),(0,s._)("div",je,(0,f.zw)(n.durationTime),1)]),(0,s.Wm)(y,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(c,{loading:l.loading,color:"red",label:"Cancelar",icon:"o_delete"},null,8,["loading"]),[[O]]),(0,s.Wm)(c,{loading:l.loading,color:"green",icon:"check_circle_outline",label:"Guardar",type:"submit"},null,8,["loading"]),0==l.reservationCreate?((0,s.wg)(),(0,s.j4)(c,{key:0,loading:l.loading,color:"red-10",icon:"o_delete",label:"Eliminar",onClick:n.deleteReservation},null,8,["loading","onClick"])):(0,s.kq)("",!0)])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}o(72764);var Fe=o(33836),Ze=o(77238),Qe=o(40850),Be=o(24005),He=o(40886),ze=o(68658);const Ye={name:"ReservationsItem",data(){return{reservationShow:!1,reservationCreate:!0,reservation:{patient:"",start:"",end:"",startTime:"",endTime:""},events:[],calendarOptions:{plugins:[Ze.ZP,He.ZP,Qe.Z,Be.ZP],locale:ze.Z,initialView:"timeGridWeek",dateClick:this.handleDateClick,headerToolbar:{left:"today prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},eventClick:this.handleEventClick,events:[]},store:(0,me.A)(),patients:[],patient:{},patients2:[],dateIni:"",dateEnd:"",loading:!1}},components:{FullCalendar:Fe.ZPm},created(){this.reservationGet(),this.$api.get("patients").then((e=>{e.data.forEach((e=>{e.label=e.name+" "+e.lastname,e.value=e.id,this.patients.push(e)})),this.patients2=this.patients,this.patient=this.patients[0]}))},computed:{durationTime(){const e=he()(this.reservation.endTime,"HH:mm").diff(he()(this.reservation.startTime,"HH:mm"),"hours"),t=he()(this.reservation.endTime,"HH:mm").diff(he()(this.reservation.startTime,"HH:mm"),"minutes")%60;return e+" horas "+t+" minutos"}},methods:{deleteReservation(){this.$q.dialog({title:"Eliminar reserva",message:"¿Está seguro de eliminar la reserva?",cancel:!0,persistent:!0}).onOk((()=>{this.loading=!0,this.$api.delete("reservations/"+this.reservation.id).then((e=>{this.loading=!1,this.$q.notify({message:"Reserva eliminada",color:"green-4",textColor:"white",icon:"check_circle_outline"}),this.reservationShow=!1,this.reservationGet()})).catch((e=>{this.loading=!1,this.$q.notify({message:e.response.data.message,color:"red-4",textColor:"white",icon:"o_report_problem"})}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismiss")}))},reservationGet(){this.$api.get("reservations").then((e=>{this.events=[],e.data.forEach((e=>{this.events.push({id:e.id,title:e.patient.name,start:e.start,end:e.end,description:e.description})})),this.calendarOptions.events=this.events}))},handleEventClick(e){this.reservationShow=!0,this.reservationCreate=!1,this.$q.loading.show(),this.$api.get("reservations/"+e.event.id).then((e=>{this.reservation=e.data,this.patient=this.patients.find((t=>t.id===e.data.patient.id)),this.reservation.startTime=this.reservation.start.substring(11,16),this.reservation.endTime=this.reservation.end.substring(11,16),this.reservation.start=he()(this.reservation.start).format("YYYY-MM-DD"),this.reservation.end=he()(this.reservation.end).format("YYYY-MM-DD"),this.reservationShow=!0,this.$q.loading.hide()})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"negative",position:"top",icon:"o_report_problem"})})).finally((()=>{this.$q.loading.hide()})),this.reservationShow=!0},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.patients=this.patients2.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.patients=this.patients2})},reservationSubmit(){this.reservationCreate?(this.loading=!0,this.$api.post("reservations",{user_id:this.store.user.id,patient_id:this.patient.id,status:"Pendiente",description:this.reservation.description,hospital_id:this.store.user.hospital_id,start:this.reservation.start+" "+this.reservation.startTime,end:this.reservation.end+" "+this.reservation.endTime,amount:this.reservation.amount}).then((e=>{this.reservationShow=!1,this.loading=!1,this.$q.notify({message:"Reserva creada",color:"green-4",textColor:"white",icon:"check_circle_outline"}),this.reservation={},this.reservationGet()})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"negative",position:"top",timeout:2e3})})).finally((()=>{this.loading=!1}))):(this.loading=!0,this.$api.put("reservations/"+this.reservation.id,{user_id:this.store.user.id,patient_id:this.patient.id,status:"Pendiente",description:this.reservation.description,hospital_id:this.store.user.hospital_id,start:this.reservation.start+" "+this.reservation.startTime,end:this.reservation.end+" "+this.reservation.endTime}).then((e=>{this.reservationShow=!1,this.reservationGet()})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"negative",position:"top",timeout:2e3})})).finally((()=>{this.loading=!1})))},handleDateClick(e){this.reservationCreate=!0,this.reservation.start=he()(e.date).format("YYYY-MM-DD"),this.reservation.end=he()(e.date).format("YYYY-MM-DD"),this.reservation.startTime=he()(e.date).format("HH:mm"),this.reservation.endTime=he()(this.reservation.startTime,"HH:mm").add(30,"minutes").format("HH:mm"),this.reservationShow=!0,this.dateIni=he()(e.date).format("YYYY-MM-DD HH:mm:ss")}}},Ke=(0,d.Z)(Ye,[["render",$e]]),Xe=Ke;function Je(e,t,o,a,i,l){const n=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(n,{class:""})}Y()(Ye,"components",{QPage:N.Z,QDialog:Oe.Z,QCard:M.Z,QCardSection:G.Z,QSpace:_e.Z,QBtn:B.Z,QForm:Ee.Z,QSelect:F.Z,QItem:Z.Z,QItemSection:Q.Z,QTooltip:Ie.Z,QInput:H.Z,QCardActions:ve.Z}),Y()(Ye,"directives",{ClosePopup:Re.Z});const et={name:"IndexPageItem",data(){return{store:(0,me.A)()}},methods:{}},tt=(0,d.Z)(et,[["render",Je]]),ot=tt;Y()(et,"components",{QPage:N.Z});const at=["href"],it=(0,s._)("div",{class:"text-h6"},"Crear categoria",-1),lt={class:"row"},st={class:"col-12 col-md-6"},nt={class:"row"},rt={class:"col-12"},dt={class:"col-12 flex flex-center"},ct={class:"col-12 col-md-6 flex flex-center"},ut=(0,s._)("div",{class:"text-h6"},"Modificar categoria",-1),mt={class:"row"},pt={class:"col-12 col-md-6"},ht={class:"col-12 col-md-6 flex flex-center"},gt=(0,s._)("div",{class:"text-h6"},"Modificar categoria",-1),ft={class:"row"},At={class:"col-12 flex flex-center"};function yt(e,t,o,a,i,l){const n=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),d=(0,s.up)("q-input"),c=(0,s.up)("q-avatar"),u=(0,s.up)("q-item-section"),m=(0,s.up)("q-item-label"),p=(0,s.up)("q-item"),h=(0,s.up)("q-list"),g=(0,s.up)("q-btn-dropdown"),A=(0,s.up)("q-td"),y=(0,s.up)("q-chip"),C=(0,s.up)("q-img"),I=(0,s.up)("q-table"),w=(0,s.up)("q-card-section"),b=(0,s.up)("q-space"),O=(0,s.up)("q-uploader"),_=(0,s.up)("q-color"),E=(0,s.up)("q-card-actions"),v=(0,s.up)("q-form"),R=(0,s.up)("q-card"),T=(0,s.up)("q-dialog"),S=(0,s.up)("q-page"),x=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(R,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,{rows:i.categories,dense:"",columns:i.categoriesColumns,filter:i.categoryFilter,"rows-per-page-options":[0]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(n,{onClick:l.categoryAdd,loading:i.loading,color:"primary",label:"Crear categoria","no-caps":"",icon:"add_circle_outline",dens:""},null,8,["onClick","loading"]),(0,s.Wm)(d,{modelValue:i.categoryFilter,"onUpdate:modelValue":t[0]||(t[0]=e=>i.categoryFilter=e),label:"Filtrar",dense:"",outlined:""},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-options":(0,s.w5)((e=>[(0,s.Wm)(A,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{label:"Opciones",color:"primary","no-caps":""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>l.categoryUpdateClick(e.row)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{icon:"o_edit"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Modificar")])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[x]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>l.categoryDelete(e.row)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{icon:"o_delete"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Eliminar")])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[x]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>l.categoryUpdateClickPhoto(e.row)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{icon:"o_photo"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Cambiar foto")])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[x]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),"body-cell-color":(0,s.w5)((e=>[(0,s.Wm)(A,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"text-bold text-white",style:(0,f.j5)(`background: ${e.row.color};`)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(e.row.color),1)])),_:2},1032,["style"])])),_:2},1032,["props"])])),"body-cell-photo":(0,s.w5)((e=>[(0,s.Wm)(A,{props:e,class:"text-center"},{default:(0,s.w5)((()=>[(0,s._)("a",{href:`${i.url}../imagenes/${e.row.photo}`,target:"_blank"},[(0,s._)("div",{class:"text-center",style:(0,f.j5)(`background: ${e.row.color}`)},[(0,s.Wm)(C,{src:`${i.url}../imagenes/${e.row.photo}`,style:{width:"40px",height:"40px","border-radius":"50%"}},null,8,["src"])],4)],8,at)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])),_:1}),(0,s.Wm)(T,{modelValue:i.categoryDialog,"onUpdate:modelValue":t[4]||(t[4]=e=>i.categoryDialog=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(R,{style:{width:"700px","max-width":"90vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[it,(0,s.Wm)(b),(0,s.wy)((0,s.Wm)(n,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,{onSubmit:l.categoryCreate,onReset:t[3]||(t[3]=e=>i.categoryDialog=!1),class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",lt,[(0,s._)("div",st,[(0,s._)("div",nt,[(0,s._)("div",rt,[(0,s.Wm)(d,{modelValue:i.category.name,"onUpdate:modelValue":t[1]||(t[1]=e=>i.category.name=e),name:"form",label:"Nombre",dense:"",outlined:"",required:""},null,8,["modelValue"])]),(0,s._)("div",dt,[(0,s.Wm)(O,{accept:".jpg, .png",onAdded:l.uploadFile,"auto-upload":"","max-files":"1",label:"Subir foto",flat:"","max-file-size":"5000000",onRejected:l.onRejected,bordered:""},null,8,["onAdded","onRejected"])])])]),(0,s._)("div",ct,[(0,s.Wm)(_,{modelValue:i.category.color,"onUpdate:modelValue":t[2]||(t[2]=e=>i.category.color=e),style:{"max-width":"100px"}},null,8,["modelValue"])])]),(0,s.Wm)(E,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{loading:i.loading,icon:"o_delete",label:"Cancelar",color:"red"},null,8,["loading"]),[[x]]),(0,s.Wm)(n,{loading:i.loading,label:"Crear Categoria",color:"green",icon:"check_circle_outline",type:"submit"},null,8,["loading"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(T,{modelValue:i.categoryDialogUpdate,"onUpdate:modelValue":t[8]||(t[8]=e=>i.categoryDialogUpdate=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(R,{style:{width:"700px","max-width":"90vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[ut,(0,s.Wm)(b),(0,s.wy)((0,s.Wm)(n,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,{onSubmit:l.categoryUpdate,onReset:t[7]||(t[7]=e=>i.categoryDialog=!1),class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",mt,[(0,s._)("div",pt,[(0,s.Wm)(d,{modelValue:i.category.name,"onUpdate:modelValue":t[5]||(t[5]=e=>i.category.name=e),name:"form",label:"Nombre",dense:"",outlined:"",required:""},null,8,["modelValue"])]),(0,s._)("div",ht,[(0,s.Wm)(_,{modelValue:i.category.color,"onUpdate:modelValue":t[6]||(t[6]=e=>i.category.color=e),style:{"max-width":"100px"}},null,8,["modelValue"])])]),(0,s.Wm)(E,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{loading:i.loading,icon:"o_delete",label:"Cancelar",color:"red"},null,8,["loading"]),[[x]]),(0,s.Wm)(n,{loading:i.loading,label:"Modificar Categoria",color:"green",icon:"check_circle_outline",type:"submit"},null,8,["loading"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(T,{modelValue:i.categoryDialogUpdatePhoto,"onUpdate:modelValue":t[10]||(t[10]=e=>i.categoryDialogUpdatePhoto=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(R,{style:{width:"700px","max-width":"90vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[gt,(0,s.Wm)(b),(0,s.wy)((0,s.Wm)(n,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,{onSubmit:l.categoryUpdatePhoto,onReset:t[9]||(t[9]=e=>i.categoryDialog=!1),class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",ft,[(0,s._)("div",At,[(0,s.Wm)(O,{accept:".jpg, .png",onAdded:l.uploadFile,"auto-upload":"","max-files":"1",label:"Subir foto",flat:"","max-file-size":"5000000",onRejected:l.onRejected,bordered:""},null,8,["onAdded","onRejected"])])]),(0,s.Wm)(E,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{loading:i.loading,icon:"o_delete",label:"Cancelar",color:"red"},null,8,["loading"]),[[x]]),(0,s.Wm)(n,{loading:i.loading,label:"Modificar Categoria",color:"green",icon:"check_circle_outline",type:"submit"},null,8,["loading"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}const Ct={name:"CategoryItem",data(){return{url:"https://cmedical.siscenter.org/api/",categoryDialog:!1,categoryDialogUpdatePhoto:!1,categoryDialogUpdate:!1,store:(0,me.A)(),categories:[],category:{},categoryPhoto:"",categoryFilter:"",loading:!1,categoriesColumns:[{name:"options",label:"OPCIONES",field:"options",align:"left",sortable:!0},{name:"name",label:"NOMBRE",field:"name",align:"left",sortable:!0},{name:"color",label:"COLOR",field:"color",align:"left",sortable:!0},{name:"photo",label:"FOTO",field:"photo",align:"left",sortable:!0}]}},created(){this.categoriesGet()},methods:{uploadFile(e){this.loading=!0;let t=0;const o=this.$q.dialog({title:"Subiendo archivo",message:"Espere por favor... "+t+"%",persistent:!0}),a=new FormData;a.append("file",e[0]),this.$api.post("upload",a,{onUploadProgress:e=>{t=parseInt(Math.round(100*e.loaded/e.total)),o.update({progress:{value:t}})}}).then((e=>{this.categoryPhoto=e.data,this.loading=!1,o.hide()})).catch((e=>{console.log(e),this.loading=!1,o.hide()}))},categoryCreate(){return""===this.categoryPhoto?(this.$q.notify({message:"Debe subir una foto",color:"red",position:"top",icon:"warning"}),!1):""===this.category.color||void 0===this.category.color?(this.$q.notify({message:"Debe ingresar un color",color:"red",position:"top",icon:"warning"}),!1):(this.category.photo=this.categoryPhoto,this.category.hospital_id=this.store.user.hospital_id,void this.$api.post("categories",this.category).then((e=>{this.categories.push(e.data),this.categoryDialog=!1})).catch((e=>{this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})))},categoryUpdate(){this.loading=!0,this.$api.put("categories/"+this.category.id,this.category).then((e=>{this.categoriesGet(),this.loading=!1,this.categoryDialogUpdate=!1,this.$q.notify({color:"positive",message:"Categoria modificada correctamente",icon:"check_circle_outline",position:"top"})})).catch((e=>{this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})}))},categoryUpdatePhoto(){if(""===this.categoryPhoto)return this.$q.notify({message:"Debe subir una foto",color:"red",position:"top",icon:"warning"}),!1;this.loading=!0,this.category.photo=this.categoryPhoto,this.$api.put("categories/"+this.category.id,this.category).then((e=>{this.categoriesGet(),this.loading=!1,this.categoryDialogUpdatePhoto=!1,this.$q.notify({color:"positive",message:"Categoria modificada correctamente",icon:"check_circle_outline",position:"top"})})).catch((e=>{this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})}))},categoryDelete(e){this.$q.dialog({title:"Eliminar categoria",message:"¿Esta seguro que desea eliminar esta categoria?",cancel:!0,persistent:!0}).onOk((()=>{this.loading=!0,this.$api.delete("categories/"+e.id).then((e=>{this.categoriesGet(),this.loading=!1,this.categoryDialogUpdate=!1,this.$q.notify({color:"positive",message:"Categoria eliminada correctamente",icon:"check_circle_outline",position:"top"})})).catch((e=>{this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismissed")}))},categoryUpdateClickPhoto(e){this.category=e,this.categoryDialogUpdatePhoto=!0},categoryUpdateClick(e){this.category=e,this.categoryDialogUpdate=!0},categoryAdd(){this.category={},this.categoryDialog=!0},categoriesGet(){this.$api.get("categories").then((e=>{this.categories=e.data})).catch((e=>{console.log(e),this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})}}};var It=o(61357),wt=o(33115),bt=o(57691),Ot=o(55896),_t=o(74653);const Et=(0,d.Z)(Ct,[["render",yt]]),vt=Et;Y()(Ct,"components",{QPage:N.Z,QCard:M.Z,QCardSection:G.Z,QTable:fe.Z,QBtn:B.Z,QInput:H.Z,QIcon:Ae.Z,QTd:ye.Z,QBtnDropdown:we.Z,QList:be.Z,QItem:Z.Z,QItemSection:Q.Z,QAvatar:It.Z,QItemLabel:wt.Z,QChip:bt.Z,QImg:j.Z,QDialog:Oe.Z,QSpace:_e.Z,QForm:Ee.Z,QUploader:Ot.Z,QColor:_t.Z,QCardActions:ve.Z}),Y()(Ct,"directives",{ClosePopup:Re.Z});const Rt={class:"text-bold"},Tt={style:{padding:"0",margin:"0"}},St=(0,s._)("b",null,"U:",-1),xt=(0,s._)("b",null,"L:",-1),Ut=(0,s._)("b",null,"V:",-1),Dt=(0,s._)("b",null,"Dias",-1),kt=["href"],Vt=(0,s._)("div",{class:"text-h6"},"Crear producto",-1),Wt={class:"row"},Lt={class:"col-12 col-md-6 q-px-xs"},qt={class:"row"},Pt={class:"col-12"},Nt={class:"col-12 flex flex-center"},Mt={class:"col-12 col-md-6 q-px-xs"},Gt={class:"row"},jt={class:"col-12"},$t={class:"col-12 flex flex-center"},Ft=(0,s._)("div",{class:"text-h6"},"Modificar producto",-1),Zt={class:"row"},Qt={class:"col-12 col-md-6 q-px-xs"},Bt={class:"row"},Ht={class:"col-12"},zt={class:"col-12 col-md-6 q-px-xs"},Yt={class:"row"},Kt={class:"col-12"},Xt={class:"col-12 flex flex-center"},Jt=(0,s._)("div",{class:"text-h6"},"Modificar lote",-1),eo={class:"row"},to={class:"col-12 col-md-12 q-px-xs"},oo={class:"row"},ao={class:"col-12"},io=(0,s._)("div",{class:"text-h6"},"Agregar lote",-1),lo={class:"row"},so={class:"col-12 col-md-12 q-px-xs"},no={class:"row"},ro={class:"col-12"},co=(0,s._)("div",{class:"text-h6"},"Modificar producto",-1),uo={class:"row"},mo={class:"col-12 flex flex-center"};function po(e,t,o,a,i,l){const n=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),d=(0,s.up)("q-input"),c=(0,s.up)("q-avatar"),u=(0,s.up)("q-item-section"),m=(0,s.up)("q-item-label"),p=(0,s.up)("q-item"),h=(0,s.up)("q-list"),g=(0,s.up)("q-btn-dropdown"),A=(0,s.up)("q-td"),y=(0,s.up)("q-circular-progress"),C=(0,s.up)("q-chip"),I=(0,s.up)("q-img"),w=(0,s.up)("q-table"),b=(0,s.up)("q-card-section"),O=(0,s.up)("q-space"),_=(0,s.up)("q-select"),E=(0,s.up)("q-uploader"),v=(0,s.up)("q-color"),R=(0,s.up)("q-card-actions"),T=(0,s.up)("q-form"),S=(0,s.up)("q-card"),x=(0,s.up)("q-dialog"),U=(0,s.up)("q-page"),D=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(U,null,{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{rows:i.products,dense:"",columns:i.productsColumns,filter:i.productFilter,"rows-per-page-options":[0]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(n,{onClick:l.productAdd,loading:i.loading,color:"primary",label:"Crear producto","no-caps":"",icon:"add_circle_outline",dens:""},null,8,["onClick","loading"]),(0,s.Wm)(n,{flat:"",icon:"refresh",onClick:l.productsGet},null,8,["onClick"]),(0,s.Wm)(d,{modelValue:i.productFilter,"onUpdate:modelValue":t[0]||(t[0]=e=>i.productFilter=e),label:"Buscar",dense:"",outlined:""},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-options":(0,s.w5)((e=>[(0,s.Wm)(A,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{label:"Opciones",color:"primary","no-caps":""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>l.productUpdateClick(e.row)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{icon:"o_edit"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Modificar")])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[D]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>l.productDelete(e.row)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{icon:"o_delete"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Eliminar")])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[D]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>l.productUpdateClickPhoto(e.row)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{icon:"o_photo"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Cambiar foto")])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[D]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>l.productAddLotClick(e.row)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{icon:"add_circle_outline"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Agregar lote")])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[D]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),"body-cell-stock":(0,s.w5)((e=>[(0,s.Wm)(A,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{"show-value":"",class:(0,f.C_)(`text-${e.row.stock<=e.row.stockMin?"red":e.row.stock>=e.row.stockMax?"green":"blue"} q-ma-md text-bold`),value:e.row.stock,size:"50px",max:e.row.stockMax<=e.row.stock?e.row.stock:e.row.stockMax,min:e.row.stockMin>=e.row.stock?e.row.stock:e.row.stockMin},null,8,["class","value","max","min"]),(0,s._)("span",Rt,(0,f.zw)(e.row.stock-e.row.stockMin)+" Restantes",1)])),_:2},1032,["props"])])),"body-cell-color":(0,s.w5)((e=>[(0,s.Wm)(A,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{class:"text-bold text-white",style:(0,f.j5)(`background: ${e.row.color};`)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(e.row.color),1)])),_:2},1032,["style"])])),_:2},1032,["props"])])),"body-cell-lot":(0,s.w5)((e=>[(0,s.Wm)(A,{props:e},{default:(0,s.w5)((()=>[(0,s._)("ul",Tt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.row.lots,(e=>((0,s.wg)(),(0,s.iD)("li",{style:{padding:"0",margin:"0"},key:e.id},[(0,s._)("div",null,[St,(0,s.Uk)((0,f.zw)(e.quantity)+" ",1),xt,(0,s.Uk)((0,f.zw)(e.batch)+" ",1),Ut,(0,s.Wm)(C,{"text-color":"white",dense:"",color:l.restanteDays(e.expiration)<=15?"red":"green"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(l.restanteDays(e.expiration))+" ",1),Dt])),_:2},1032,["color"]),(0,s.Wm)(n,{round:"",flat:"",icon:"o_delete",class:"q-pa-none q-ma-none",onClick:t=>l.productDeleteLot(e),dense:""},null,8,["onClick"]),(0,s.Wm)(n,{round:"",flat:"",icon:"o_edit",class:"q-pa-none q-ma-none",onClick:t=>l.productUpdateLot(e),dense:""},null,8,["onClick"])])])))),128))])])),_:2},1032,["props"])])),"body-cell-photo":(0,s.w5)((e=>[(0,s.Wm)(A,{props:e,class:"text-center"},{default:(0,s.w5)((()=>[(0,s._)("a",{href:`${i.url}../imagenes/${e.row.photo}`,target:"_blank"},[(0,s._)("div",{class:"text-center",style:(0,f.j5)(`background: ${e.row.color}`)},[(0,s.Wm)(I,{src:`${i.url}../imagenes/${e.row.photo}`,style:{width:"40px",height:"40px","border-radius":"50%"}},null,8,["src"])],4)],8,kt)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])),_:1}),(0,s.Wm)(x,{modelValue:i.productDialog,"onUpdate:modelValue":t[12]||(t[12]=e=>i.productDialog=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{style:{width:"700px","max-width":"90vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Vt,(0,s.Wm)(O),(0,s.wy)((0,s.Wm)(n,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])])),_:1}),(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(T,{onSubmit:l.productCreate,onReset:t[11]||(t[11]=e=>i.productDialog=!1),class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",Wt,[(0,s._)("div",Lt,[(0,s._)("div",qt,[(0,s._)("div",Pt,[(0,s.Wm)(_,{modelValue:i.category,"onUpdate:modelValue":t[1]||(t[1]=e=>i.category=e),options:i.categories,label:"Producto",dense:"",outlined:"",required:"",hint:""},null,8,["modelValue","options"]),(0,s.Wm)(d,{modelValue:i.product.name,"onUpdate:modelValue":t[2]||(t[2]=e=>i.product.name=e),name:"form",label:"Nombre",dense:"",outlined:"",required:"",hint:""},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.product.priceCost,"onUpdate:modelValue":t[3]||(t[3]=e=>i.product.priceCost=e),name:"form",label:"Precio de costo",dense:"",outlined:"",required:"",hint:"",type:"number",step:"0.1"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.product.priceSale,"onUpdate:modelValue":t[4]||(t[4]=e=>i.product.priceSale=e),name:"form",label:"Precio de venta",dense:"",outlined:"",required:"",hint:"",type:"number",step:"0.1"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.product.expiration,"onUpdate:modelValue":t[5]||(t[5]=e=>i.product.expiration=e),name:"form",label:"Fecha de caducidad",dense:"",outlined:"",required:"",hint:"",type:"date"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.product.batch,"onUpdate:modelValue":t[6]||(t[6]=e=>i.product.batch=e),name:"form",label:"Lote",dense:"",outlined:"",required:"",hint:""},null,8,["modelValue"])]),(0,s._)("div",Nt,[(0,s.Wm)(E,{accept:".jpg, .png",onAdded:l.uploadFile,"auto-upload":"","max-files":"1",label:"Subir foto",flat:"","max-file-size":"5000000",onRejected:l.onRejected,bordered:""},null,8,["onAdded","onRejected"])])])]),(0,s._)("div",Mt,[(0,s._)("div",Gt,[(0,s._)("div",jt,[(0,s.Wm)(d,{modelValue:i.product.stock,"onUpdate:modelValue":t[7]||(t[7]=e=>i.product.stock=e),name:"form",label:"Stock",dense:"",outlined:"",type:"number",required:"",hint:""},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.product.stockMin,"onUpdate:modelValue":t[8]||(t[8]=e=>i.product.stockMin=e),name:"form",label:"Stock minimo",dense:"",outlined:"",type:"number",required:"",hint:""},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.product.stockMax,"onUpdate:modelValue":t[9]||(t[9]=e=>i.product.stockMax=e),name:"form",label:"Stock maximo",dense:"",outlined:"",type:"number",required:"",hint:""},null,8,["modelValue"])]),(0,s._)("div",$t,[(0,s.Wm)(v,{modelValue:i.product.color,"onUpdate:modelValue":t[10]||(t[10]=e=>i.product.color=e),style:{"max-width":"100px"}},null,8,["modelValue"])])])])]),(0,s.Wm)(R,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{loading:i.loading,icon:"o_delete",label:"Cancelar",color:"red"},null,8,["loading"]),[[D]]),(0,s.Wm)(n,{loading:i.loading,label:"Crear Producto",color:"green",icon:"check_circle_outline",type:"submit"},null,8,["loading"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(x,{modelValue:i.productDialogUpdate,"onUpdate:modelValue":t[20]||(t[20]=e=>i.productDialogUpdate=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{style:{width:"700px","max-width":"90vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Ft,(0,s.Wm)(O),(0,s.wy)((0,s.Wm)(n,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])])),_:1}),(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(T,{onSubmit:l.productUpdate,onReset:t[19]||(t[19]=e=>i.productDialog=!1),class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",Zt,[(0,s._)("div",Qt,[(0,s._)("div",Bt,[(0,s._)("div",Ht,[(0,s.Wm)(_,{modelValue:i.category,"onUpdate:modelValue":t[13]||(t[13]=e=>i.category=e),options:i.categories,label:"Producto",dense:"",outlined:"",required:"",hint:""},null,8,["modelValue","options"]),(0,s.Wm)(d,{modelValue:i.product.name,"onUpdate:modelValue":t[14]||(t[14]=e=>i.product.name=e),name:"form",label:"Nombre",dense:"",outlined:"",required:"",hint:""},null,8,["modelValue"])])])]),(0,s._)("div",zt,[(0,s._)("div",Yt,[(0,s._)("div",Kt,[(0,s.Wm)(d,{modelValue:i.product.stock,"onUpdate:modelValue":t[15]||(t[15]=e=>i.product.stock=e),name:"form",label:"Stock",dense:"",outlined:"",type:"number",required:"",hint:""},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.product.stockMin,"onUpdate:modelValue":t[16]||(t[16]=e=>i.product.stockMin=e),name:"form",label:"Stock minimo",dense:"",outlined:"",type:"number",required:"",hint:""},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.product.stockMax,"onUpdate:modelValue":t[17]||(t[17]=e=>i.product.stockMax=e),name:"form",label:"Stock maximo",dense:"",outlined:"",type:"number",required:"",hint:""},null,8,["modelValue"])]),(0,s._)("div",Xt,[(0,s.Wm)(v,{modelValue:i.product.color,"onUpdate:modelValue":t[18]||(t[18]=e=>i.product.color=e),style:{"max-width":"100px"}},null,8,["modelValue"])])])])]),(0,s.Wm)(R,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{loading:i.loading,icon:"o_delete",label:"Cancelar",color:"red"},null,8,["loading"]),[[D]]),(0,s.Wm)(n,{loading:i.loading,label:"Modificar Producto",color:"green",icon:"check_circle_outline",type:"submit"},null,8,["loading"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(x,{modelValue:i.productDialogUpdateLote,"onUpdate:modelValue":t[26]||(t[26]=e=>i.productDialogUpdateLote=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{style:{width:"350px","max-width":"90vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Jt,(0,s.Wm)(O),(0,s.wy)((0,s.Wm)(n,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])])),_:1}),(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(T,{onSubmit:l.lotUpdate,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",eo,[(0,s._)("div",to,[(0,s._)("div",oo,[(0,s._)("div",ao,[(0,s.Wm)(d,{modelValue:i.lot.quantity,"onUpdate:modelValue":t[21]||(t[21]=e=>i.lot.quantity=e),name:"form",label:"Cantidad",dense:"",outlined:"",type:"number",required:"",hint:""},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.lot.priceCost,"onUpdate:modelValue":t[22]||(t[22]=e=>i.lot.priceCost=e),name:"form",label:"Precio de costo",dense:"",outlined:"",type:"number",step:"0.1",required:"",hint:""},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.lot.priceSale,"onUpdate:modelValue":t[23]||(t[23]=e=>i.lot.priceSale=e),name:"form",label:"Precio de venta",dense:"",outlined:"",type:"number",step:"0.1",required:"",hint:""},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.lot.expiration,"onUpdate:modelValue":t[24]||(t[24]=e=>i.lot.expiration=e),name:"form",label:"Fecha de caducidad",dense:"",outlined:"",type:"date",required:"",hint:""},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.lot.batch,"onUpdate:modelValue":t[25]||(t[25]=e=>i.lot.batch=e),name:"form",label:"Lote",dense:"",outlined:"",type:"text",required:"",hint:""},null,8,["modelValue"])])])])]),(0,s.Wm)(R,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{loading:i.loading,icon:"o_delete",label:"Cancelar",color:"red"},null,8,["loading"]),[[D]]),(0,s.Wm)(n,{loading:i.loading,label:"Modificar lote",color:"green",icon:"check_circle_outline",type:"submit"},null,8,["loading"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(x,{modelValue:i.productAddLotDialog,"onUpdate:modelValue":t[32]||(t[32]=e=>i.productAddLotDialog=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{style:{width:"350px","max-width":"90vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[io,(0,s.Wm)(O),(0,s.wy)((0,s.Wm)(n,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])])),_:1}),(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(T,{onSubmit:l.lotInsert,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",lo,[(0,s._)("div",so,[(0,s._)("div",no,[(0,s._)("div",ro,[(0,s.Wm)(d,{modelValue:i.lot.quantity,"onUpdate:modelValue":t[27]||(t[27]=e=>i.lot.quantity=e),name:"form",label:"Cantidad",dense:"",outlined:"",type:"number",required:"",hint:""},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.lot.priceCost,"onUpdate:modelValue":t[28]||(t[28]=e=>i.lot.priceCost=e),name:"form",label:"Precio de costo",dense:"",outlined:"",type:"number",step:"0.1",required:"",hint:""},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.lot.priceSale,"onUpdate:modelValue":t[29]||(t[29]=e=>i.lot.priceSale=e),name:"form",label:"Precio de venta",dense:"",outlined:"",type:"number",step:"0.1",required:"",hint:""},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.lot.expiration,"onUpdate:modelValue":t[30]||(t[30]=e=>i.lot.expiration=e),name:"form",label:"Fecha de caducidad",dense:"",outlined:"",type:"date",required:"",hint:""},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.lot.batch,"onUpdate:modelValue":t[31]||(t[31]=e=>i.lot.batch=e),name:"form",label:"Lote",dense:"",outlined:"",type:"text",required:"",hint:""},null,8,["modelValue"])])])])]),(0,s.Wm)(R,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{loading:i.loading,icon:"o_delete",label:"Cancelar",color:"red"},null,8,["loading"]),[[D]]),(0,s.Wm)(n,{loading:i.loading,label:"Agregar lote",color:"green",icon:"check_circle_outline",type:"submit"},null,8,["loading"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(x,{modelValue:i.productDialogUpdatePhoto,"onUpdate:modelValue":t[34]||(t[34]=e=>i.productDialogUpdatePhoto=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{style:{width:"700px","max-width":"90vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[co,(0,s.Wm)(O),(0,s.wy)((0,s.Wm)(n,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])])),_:1}),(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(T,{onSubmit:l.productUpdatePhoto,onReset:t[33]||(t[33]=e=>i.productDialog=!1),class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",uo,[(0,s._)("div",mo,[(0,s.Wm)(E,{accept:".jpg, .png",onAdded:l.uploadFile,"auto-upload":"","max-files":"1",label:"Subir foto",flat:"","max-file-size":"5000000",onRejected:l.onRejected,bordered:""},null,8,["onAdded","onRejected"])])]),(0,s.Wm)(R,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{loading:i.loading,icon:"o_delete",label:"Cancelar",color:"red"},null,8,["loading"]),[[D]]),(0,s.Wm)(n,{loading:i.loading,label:"Modificar Producto",color:"green",icon:"check_circle_outline",type:"submit"},null,8,["loading"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}const ho={name:"CategoryItem",data(){return{productDialogUpdateLote:!1,productAddLotDialog:!1,url:"https://cmedical.siscenter.org/api/",productDialog:!1,productDialogUpdatePhoto:!1,productDialogUpdate:!1,store:(0,me.A)(),products:[],product:{},lot:{},categories:[],category:{},productPhoto:"",productFilter:"",loading:!1,productsColumns:[{name:"options",label:"OPCIONES",field:"options",align:"left",sortable:!0},{name:"name",label:"NOMBRE",field:"name",align:"left",sortable:!0},{name:"lot",label:"LOTE",field:"lot",align:"left",sortable:!0},{name:"stock",label:"STOCK",field:"stock",align:"left",sortable:!0},{name:"color",label:"COLOR",field:"color",align:"left",sortable:!0},{name:"photo",label:"FOTO",field:"photo",align:"left",sortable:!0},{name:"category",label:"CATEGORIA",field:e=>e.category.name,align:"left",sortable:!0}]}},created(){this.productsGet(),this.$api.get("categories").then((e=>{e.data.forEach((e=>{this.categories.push({label:e.name,value:e.id})})),this.category=this.categories[0]}))},methods:{lotInsert(){this.loading=!0,this.$api.post("lots",this.lot).then((e=>{this.loading=!1,this.productAddLotDialog=!1,this.productsGet()})).catch((e=>{this.loading=!1,this.$q.notify({message:e.response.data.message,color:"negative",icon:"report_problem",position:"top"})}))},lotUpdate(){this.loading=!0,this.$api.put("lots/"+this.lot.id,this.lot).then((e=>{this.loading=!1,this.productDialogUpdateLote=!1,this.productsGet()})).catch((e=>{this.loading=!1,this.$q.notify({message:e.response.data.message,color:"negative",icon:"report_problem",position:"top"})}))},productUpdateLot(e){this.productDialogUpdateLote=!0,this.lot=e},productDeleteLot(e){this.$q.dialog({title:"Eliminar",message:"¿Estas seguro de eliminar el lote?",cancel:!0,persistent:!0}).onOk((()=>{this.loading=!0,this.$api.delete("lots/"+e.id).then((e=>{this.productsGet()}))})).onCancel((()=>{})).onDismiss((()=>{}))},restanteDays(e){const t=he()(),o=he()(e),a=o.diff(t,"days");return a},uploadFile(e){this.loading=!0;let t=0;const o=this.$q.dialog({title:"Subiendo archivo",message:"Espere por favor... "+t+"%",persistent:!0}),a=new FormData;a.append("file",e[0]),this.$api.post("upload",a,{onUploadProgress:e=>{t=parseInt(Math.round(100*e.loaded/e.total)),o.update({progress:{value:t}})}}).then((e=>{this.productPhoto=e.data,this.loading=!1,o.hide()})).catch((e=>{console.log(e),this.loading=!1,o.hide()}))},productCreate(){return""===this.productPhoto?(this.$q.notify({message:"Debe subir una foto",color:"red",position:"top",icon:"warning"}),!1):""===this.product.color||void 0===this.product.color?(this.$q.notify({message:"Debe ingresar un color",color:"red",position:"top",icon:"warning"}),!1):(this.product.photo=this.productPhoto,this.product.category_id=this.category.value,this.product.hospital_id=this.store.user.hospital_id,void this.$api.post("products",this.product).then((e=>{this.productsGet(),this.productDialog=!1})).catch((e=>{this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})))},productUpdate(){this.loading=!0,this.$api.put("products/"+this.product.id,this.product).then((e=>{this.productsGet(),this.loading=!1,this.productDialogUpdate=!1,this.$q.notify({color:"positive",message:"Producto modificada correctamente",icon:"check_circle_outline",position:"top"})})).catch((e=>{this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})).finally((()=>{this.loading=!1}))},productUpdatePhoto(){if(""===this.productPhoto)return this.$q.notify({message:"Debe subir una foto",color:"red",position:"top",icon:"warning"}),!1;this.loading=!0,this.product.photo=this.productPhoto,this.$api.put("products/"+this.product.id,this.product).then((e=>{this.productsGet(),this.loading=!1,this.productDialogUpdatePhoto=!1,this.$q.notify({color:"positive",message:"Producto modificada correctamente",icon:"check_circle_outline",position:"top"})})).catch((e=>{this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})}))},productDelete(e){this.$q.dialog({title:"Eliminar producto",message:"¿Esta seguro que desea eliminar esta producto?",cancel:!0,persistent:!0}).onOk((()=>{this.loading=!0,this.$api.delete("products/"+e.id).then((e=>{this.productsGet(),this.loading=!1,this.productDialogUpdate=!1,this.$q.notify({color:"positive",message:"Producto eliminada correctamente",icon:"check_circle_outline",position:"top"})})).catch((e=>{this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})).finally((()=>{this.loading=!1}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismissed")}))},productAddLotClick(e){this.product=e,this.lot={product_id:e.id,hospital_id:e.hospital_id,quantity:0,priceCost:0,priceSale:0,expiration:he()().format("YYYY-MM-DD"),batch:""},this.productAddLotDialog=!0},productUpdateClickPhoto(e){this.product=e,this.productDialogUpdatePhoto=!0},productUpdateClick(e){this.product=e,this.productDialogUpdate=!0},productAdd(){this.product={expiration:ue.ZP.formatDate(new Date,"YYYY-MM-DD")},this.productDialog=!0},productsGet(){this.loading=!0,this.$api.get("products").then((e=>{this.products=e.data})).catch((e=>{this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})).finally((()=>{this.loading=!1}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})}}};var go=o(83302);const fo=(0,d.Z)(ho,[["render",po]]),Ao=fo;Y()(ho,"components",{QPage:N.Z,QCard:M.Z,QCardSection:G.Z,QTable:fe.Z,QBtn:B.Z,QInput:H.Z,QIcon:Ae.Z,QTd:ye.Z,QBtnDropdown:we.Z,QList:be.Z,QItem:Z.Z,QItemSection:Q.Z,QAvatar:It.Z,QItemLabel:wt.Z,QCircularProgress:go.Z,QChip:bt.Z,QImg:j.Z,QDialog:Oe.Z,QSpace:_e.Z,QForm:Ee.Z,QSelect:F.Z,QUploader:Ot.Z,QColor:_t.Z,QCardActions:ve.Z}),Y()(ho,"directives",{ClosePopup:Re.Z});const yo={class:"row q-pa-xs"},Co={class:"col-12 col-md-4"},Io={class:"row"},wo={class:"col-12"},bo={class:"text-uppercase text-h4 text-bold text-center"},Oo=(0,s._)("div",{class:"col-6 q-my-xs col-md-6 text-right text-bold q-pr-xs text-grey"},"F. de Nacimiento:",-1),_o={class:"col-6 q-my-xs col-md-6"},Eo={key:0,class:"text-left text-bold"},vo=(0,s._)("div",{class:"col-6 q-my-xs col-md-6 text-right text-bold q-pr-xs text-grey"},"Edad:",-1),Ro={class:"col-6 q-my-xs col-md-6"},To={key:0,class:"text-left text-bold"},So=(0,s._)("div",{class:"col-6 q-my-xs col-md-6 text-right text-bold q-pr-xs text-grey"},"Sexo:",-1),xo={class:"col-6 q-my-xs col-md-6"},Uo={class:"text-left text-bold"},Do=(0,s._)("div",{class:"col-6 q-my-xs col-md-6 text-right text-bold q-pr-xs text-grey"},"Direccion:",-1),ko={class:"col-6 q-my-xs col-md-6"},Vo={class:"text-left text-bold"},Wo=(0,s._)("div",{class:"col-6 q-my-xs col-md-6 text-right text-bold q-pr-xs text-grey"},"Correo:",-1),Lo={class:"col-6 q-my-xs col-md-6"},qo={class:"text-left text-bold"},Po=(0,s._)("div",{class:"col-6 q-my-xs col-md-6 text-right text-bold q-pr-xs text-grey"},"Tel:",-1),No={class:"col-6 q-my-xs col-md-6"},Mo={class:"text-left text-bold"},Go={class:"col-12 col-md-8"},jo={class:"row"},$o={class:"col-6"},Fo={class:"col-6 text-right"},Zo={class:"col-12"},Qo={class:"text-bold q-pa-xs"},Bo={class:"text-center text-h5 text-bold text-white"},Ho={key:0},zo={class:"row"},Yo={class:"col-12 col-md-12 q-pa-xs"},Ko={class:"row"},Xo={class:"col-6"},Jo={class:"col-6"},ea={class:"col-12 bg-primary q-pa-xs text-white"},ta={class:"col-12"},oa={class:"row"},aa={class:"col-6 col-md-2"},ia={class:"col-6 col-md-2"},la={class:"col-6 col-md-2"},sa={class:"col-6 col-md-2"},na={class:"col-6 col-md-2"},ra={class:"col-6 col-md-2"},da={class:"col-6 col-md-2"},ca={class:"col-6 col-md-2"},ua={class:"col-6 col-md-2"},ma={class:"col-12"},pa={class:"row"},ha={class:"col-6"},ga={class:"col-12 bg-primary q-pa-xs text-white"},fa={class:"col-12"},Aa={class:"row"},ya={class:"col-12"},Ca=(0,s._)("div",null," ¿Esta embarazada? ",-1),Ia={key:0,class:"col-12"},wa={key:1,class:"col-12"},ba={key:2,class:"col-12"},Oa={class:"col-6"},_a={class:"col-12 bg-primary q-pa-xs text-white"},Ea={class:"col-12"},va={class:"row"},Ra={class:"col-6 col-md-4"},Ta=(0,s._)("div",null," ¿Fuma? ",-1),Sa={class:"col-6 col-md-8"},xa={class:"col-6 col-md-4"},Ua=(0,s._)("div",null," ¿Toma alcohol? ",-1),Da={class:"col-6 col-md-8"},ka={class:"col-12 bg-primary q-pa-xs text-white"},Va={class:"col-12"},Wa={class:"row"},La={class:"col-3"},qa={class:"col-3"},Pa={class:"col-3"},Na={class:"col-3"},Ma={class:"col-12"},Ga={class:"row"},ja={class:"col-6"},$a={class:"col-12 bg-primary q-pa-xs text-white"},Fa={class:"col-12"},Za={class:"col-6"},Qa={class:"col-12 bg-primary q-pa-xs text-white"},Ba={class:"col-12 q-pa-xs"},Ha={class:"col-12 text-bold"},za={class:"col-12"},Ya={class:"row"},Ka={class:"col-6"},Xa={class:"col-12 bg-primary q-pa-xs text-white"},Ja={class:"col-12"},ei={class:"col-6"},ti={class:"col-12 bg-primary q-pa-xs text-white"},oi={class:"row"},ai={class:"col-6"},ii={class:"col-6"},li={class:"col-6"},si={class:"col-6"},ni={class:"col-6"},ri={class:"col-12"},di=(0,s._)("span",{class:"text-subtitle2"},"Consulta Medica realizada por:",-1),ci=(0,s._)("span",{class:"text-subtitle2"}," en fecha:",-1),ui={class:"col-12"},mi=(0,s._)("div",{class:"text-h6"},"Medicamentos",-1),pi={class:"row"},hi={class:"col-12 q-pb-xs"},gi={class:"cursor-pointer"},fi=(0,s._)("div",{class:"col-12"},[(0,s._)("div",{class:"text-subtitle2 text-red"},"Medicamento seleccionado")],-1),Ai={class:"col-12 col-sm-10"},yi={class:"col-6 col-sm-2"},Ci={id:"numbers"},Ii=["value"],wi={class:"col-6 col-sm-3"},bi={class:"col-6 col-sm-3"},Oi={class:"col-6 col-sm-3"},_i={class:"col-6 col-sm-3"};function Ei(e,t,o,i,l,n){const r=(0,s.up)("q-icon"),d=(0,s.up)("q-btn"),c=(0,s.up)("q-td"),u=(0,s.up)("q-item-section"),m=(0,s.up)("q-item"),p=(0,s.up)("q-list"),h=(0,s.up)("q-btn-dropdown"),g=(0,s.up)("q-table"),A=(0,s.up)("q-space"),y=(0,s.up)("q-card-section"),C=(0,s.up)("q-input"),I=(0,s.up)("q-radio"),w=(0,s.up)("q-select"),b=(0,s.up)("q-card"),O=(0,s.up)("q-dialog"),_=(0,s.up)("q-tr"),E=(0,s.up)("q-card-actions"),v=(0,s.up)("q-form"),R=(0,s.up)("q-page"),T=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(R,null,{default:(0,s.w5)((()=>[(0,s._)("div",yo,[(0,s._)("div",Co,[(0,s._)("div",Io,[(0,s._)("div",wo,[(0,s._)("div",bo,(0,f.zw)(l.patient.name)+" "+(0,f.zw)(l.patient.lastname),1)]),Oo,(0,s._)("div",_o,[void 0!=l.patient.birthday?((0,s.wg)(),(0,s.iD)("div",Eo,(0,f.zw)(n.formatDate(l.patient.birthday)),1)):(0,s.kq)("",!0)]),vo,(0,s._)("div",Ro,[void 0!=l.patient.birthday?((0,s.wg)(),(0,s.iD)("div",To,(0,f.zw)(e.$filters.ageMonthDays(l.patient.birthday)),1)):(0,s.kq)("",!0)]),So,(0,s._)("div",xo,[(0,s._)("div",Uo,(0,f.zw)(l.patient.sex),1)]),Do,(0,s._)("div",ko,[(0,s._)("div",Vo,(0,f.zw)(l.patient.address),1)]),Wo,(0,s._)("div",Lo,[(0,s._)("div",qo,(0,f.zw)(l.patient.email),1)]),Po,(0,s._)("div",No,[(0,s._)("div",Mo,(0,f.zw)(l.patient.phone),1)])])]),(0,s._)("div",Go,[(0,s._)("div",jo,[(0,s._)("div",$o,[(0,s._)("span",{class:(0,f.C_)((e.$q.screen.lt.md?"text-subtitle2":"text-h6")+" text-bold text-center")},[(0,s.Wm)(r,{name:"o_monitor_heart",class:"q-mr-xs text-subtitle2",size:"1.4em",color:"grey-8"}),(0,s.Uk)(" HISTORIAL CLINICO ")],2)]),(0,s._)("div",Fo,[(0,s.Wm)(d,{class:"q-mr-xs",loading:l.loading,color:"primary",label:"Nuevo","no-caps":"",icon:"add_circle_outline",dense:"",onClick:n.historyAddClick},null,8,["loading","onClick"]),(0,s.Wm)(r,{name:"refresh",loading:l.loading,class:"q-mr-xs",size:"1.4em",color:"grey-8",onClick:n.historyGet},null,8,["loading","onClick"])]),(0,s._)("div",Zo,[(0,s.Wm)(g,{bordered:"",flat:"",rows:l.histories,loading:l.loading,dense:"",columns:l.historyColumns,"rows-per-page-options":[0,10,15,20]},{"body-cell-date":(0,s.w5)((e=>[(0,s.Wm)(c,{props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(n.formatDate(e.row.date))+" "+(0,f.zw)(n.formatTime(e.row.time)),1)])),_:2},1032,["props"])])),"body-cell-options":(0,s.w5)((e=>[(0,s.Wm)(c,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s._)("span",Qo,(0,f.zw)(l.histories.length-e.pageIndex),1),(0,s.Wm)(h,{label:"Opciones",dense:"",color:"primary","no-caps":""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(m,{clickable:"",onClick:t=>n.editHistory(e.row)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"o_edit",color:"grey-8"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Editar o ver")])),_:1})])),_:2},1032,["onClick"])),[[T]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(m,{clickable:"",onClick:t=>n.deleteHistory(e.row)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"o_delete",color:"grey-8"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Eliminar")])),_:1})])),_:2},1032,["onClick"])),[[T]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(m,{clickable:"",href:`${l.url}reportHistory/${e.row.id}`,target:"_blank"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"o_print",color:"grey-8"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Ver Historial clinico")])),_:1})])),_:2},1032,["href"])),[[T]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(m,{clickable:"",href:`${l.url}reportReception/${e.row.id}`,target:"_blank"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"o_print",color:"grey-8"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Reseta medica")])),_:1})])),_:2},1032,["href"])),[[T]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(m,{clickable:"",href:`https://api.whatsapp.com/send?phone=591${l.patient.phone}&text=${l.url}reportHistory/${e.row.id}`,target:"_blank"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"ion-logo-whatsapp",color:"grey-8"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Historial clinico whatsapp")])),_:1})])),_:2},1032,["href"])),[[T]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(m,{clickable:"",href:`https://api.whatsapp.com/send?phone=591${l.patient.phone}&text=${l.url}reportReception/${e.row.id}`,target:"_blank"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"ion-logo-whatsapp",color:"grey-8"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Receta medica whatsapp")])),_:1})])),_:2},1032,["href"])),[[T]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(m,{clickable:"",onClick:t=>n.printReceta(e.row)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"o_print",color:"grey-8"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Imprimir receta")])),_:1})])),_:2},1032,["onClick"])),[[T]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","loading","columns"])])])])]),(0,s.Wm)(O,{modelValue:l.historyShow,"onUpdate:modelValue":t[40]||(t[40]=e=>l.historyShow=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{class:"q-pa-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"row items-center q-py-none bg-primary"},{default:(0,s.w5)((()=>[(0,s._)("div",Bo,[(0,s.Uk)("Consulta Medica "),l.historyCreate?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",Ho,(0,f.zw)(n.formatDate(l.history.date))+" "+(0,f.zw)(n.formatTime(l.history.time)),1))]),(0,s.Wm)(A),(0,s.wy)((0,s.Wm)(d,{icon:"close",color:"white",flat:"",round:"",dense:""},null,512),[[T]])])),_:1}),(0,s.Wm)(y,{class:"items-center q-pa-none"},{default:(0,s.w5)((()=>[(0,s._)("div",zo,[(0,s._)("div",Yo,[(0,s._)("div",Ko,[(0,s._)("div",Xo,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Motivo de consulta",modelValue:l.history.motivo,"onUpdate:modelValue":t[0]||(t[0]=e=>l.history.motivo=e)},null,8,["modelValue"])]),(0,s._)("div",Jo,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Enfermedad actual",modelValue:l.history.enfermedad,"onUpdate:modelValue":t[1]||(t[1]=e=>l.history.enfermedad=e)},null,8,["modelValue"])]),(0,s._)("div",ea,[(0,s.Wm)(r,{name:"favorite_outline"}),(0,s.Uk)(" Signos vitales")]),(0,s._)("div",ta,[(0,s._)("div",oa,[(0,s._)("div",aa,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Peso Kg",modelValue:l.history.weight,"onUpdate:modelValue":t[2]||(t[2]=e=>l.history.weight=e),ref:"weight"},null,8,["modelValue"])]),(0,s._)("div",ia,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Altura Mts",modelValue:l.history.height,"onUpdate:modelValue":t[3]||(t[3]=e=>l.history.height=e)},null,8,["modelValue"])]),(0,s._)("div",la,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Sat02%",modelValue:l.history.sat,"onUpdate:modelValue":t[4]||(t[4]=e=>l.history.sat=e)},null,8,["modelValue"])]),(0,s._)("div",sa,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Temperatura",modelValue:l.history.tem,"onUpdate:modelValue":t[5]||(t[5]=e=>l.history.tem=e)},null,8,["modelValue"])]),(0,s._)("div",na,[(0,s.Wm)(C,{readonly:"",dense:"",outlined:"",label:"IMC",modelValue:n.calculateIMC,"onUpdate:modelValue":t[6]||(t[6]=e=>n.calculateIMC=e)},null,8,["modelValue"])]),(0,s._)("div",ra,[(0,s.Wm)(C,{readonly:"",dense:"",outlined:"",label:"IMC Clasificacion",modelValue:n.calculateIMCText,"onUpdate:modelValue":t[7]||(t[7]=e=>n.calculateIMCText=e)},null,8,["modelValue"])]),(0,s._)("div",da,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Ten. Arterial",modelValue:l.history.ta,"onUpdate:modelValue":t[8]||(t[8]=e=>l.history.ta=e)},null,8,["modelValue"])]),(0,s._)("div",ca,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Frec. Cardiaca",modelValue:l.history.fc,"onUpdate:modelValue":t[9]||(t[9]=e=>l.history.fc=e)},null,8,["modelValue"])]),(0,s._)("div",ua,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Frec. Respiratoria",modelValue:l.history.fr,"onUpdate:modelValue":t[10]||(t[10]=e=>l.history.fr=e)},null,8,["modelValue"])])])]),(0,s._)("div",ma,[(0,s._)("div",pa,[(0,s._)("div",ha,[(0,s._)("div",ga,[(0,s.Wm)(r,{name:"help_outline"}),(0,s.Uk)(" Preguntas ginecologicas")]),(0,s._)("div",fa,[(0,s._)("div",Aa,[(0,s._)("div",ya,[Ca,(0,s.Wm)(I,{dense:"",modelValue:l.history.pregnant,"onUpdate:modelValue":t[11]||(t[11]=e=>l.history.pregnant=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"SI",label:"SI"},null,8,["modelValue"]),(0,s.Wm)(I,{dense:"",modelValue:l.history.pregnant,"onUpdate:modelValue":t[12]||(t[12]=e=>l.history.pregnant=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"NO",label:"NO"},null,8,["modelValue"])]),"SI"==l.history.pregnant?((0,s.wg)(),(0,s.iD)("div",Ia,[(0,s.Wm)(C,{dense:"",outlined:"",modelValue:l.history.fum,"onUpdate:modelValue":t[13]||(t[13]=e=>l.history.fum=e),ref:"fum",label:"Fecha de ultima menstruacion",type:"date"},null,8,["modelValue"])])):(0,s.kq)("",!0),"SI"==l.history.pregnant?((0,s.wg)(),(0,s.iD)("div",wa,[(0,s.Wm)(C,{dense:"",outlined:"",readonly:"",modelValue:n.calculateGestation,"onUpdate:modelValue":t[14]||(t[14]=e=>n.calculateGestation=e),label:"Semanas de gestacion"},null,8,["modelValue"])])):(0,s.kq)("",!0),"SI"==l.history.pregnant?((0,s.wg)(),(0,s.iD)("div",ba,[(0,s.Wm)(C,{dense:"",outlined:"",modelValue:l.history.fu,"onUpdate:modelValue":t[15]||(t[15]=e=>l.history.fu=e),label:"Fondo uterino"},null,8,["modelValue"])])):(0,s.kq)("",!0)])])]),(0,s._)("div",Oa,[(0,s._)("div",_a,[(0,s.Wm)(r,{name:"question_mark"}),(0,s.Uk)(" Preguntas generales")]),(0,s._)("div",Ea,[(0,s._)("div",va,[(0,s._)("div",Ra,[Ta,(0,s.Wm)(I,{dense:"",modelValue:l.history.smoker,"onUpdate:modelValue":t[16]||(t[16]=e=>l.history.smoker=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"SI",label:"SI"},null,8,["modelValue"]),(0,s.Wm)(I,{dense:"",modelValue:l.history.smoker,"onUpdate:modelValue":t[17]||(t[17]=e=>l.history.smoker=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"NO",label:"NO"},null,8,["modelValue"])]),(0,s._)("div",Sa,["SI"==l.history.smoker?((0,s.wg)(),(0,s.j4)(C,{key:0,dense:"",outlined:"",label:"Especificaciones de fumador",ref:"smokerDescription",modelValue:l.history.smokerDescription,"onUpdate:modelValue":t[18]||(t[18]=e=>l.history.smokerDescription=e)},null,8,["modelValue"])):(0,s.kq)("",!0)]),(0,s._)("div",xa,[Ua,(0,s.Wm)(I,{dense:"",modelValue:l.history.alcohol,"onUpdate:modelValue":t[19]||(t[19]=e=>l.history.alcohol=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"SI",label:"SI"},null,8,["modelValue"]),(0,s.Wm)(I,{dense:"",modelValue:l.history.alcohol,"onUpdate:modelValue":t[20]||(t[20]=e=>l.history.alcohol=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"NO",label:"NO"},null,8,["modelValue"])]),(0,s._)("div",Da,["SI"==l.history.alcohol?((0,s.wg)(),(0,s.j4)(C,{key:0,dense:"",outlined:"",label:"Especificaciones de alcohol",modelValue:l.history.alcoholDescription,"onUpdate:modelValue":t[21]||(t[21]=e=>l.history.alcoholDescription=e)},null,8,["modelValue"])):(0,s.kq)("",!0)])])])])])]),(0,s._)("div",ka,[(0,s.Wm)(r,{name:"o_note"}),(0,s.Uk)(" Notas medicas ")]),(0,s._)("div",Va,[(0,s._)("div",Wa,[(0,s._)("div",La,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Diagnostico 1",modelValue:l.history.note1,"onUpdate:modelValue":t[23]||(t[23]=e=>l.history.note1=e),ref:"note"},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{dense:"",flat:"",loading:l.loading,icon:l.isRecording?"mic":"mic_off",onClick:t[22]||(t[22]=e=>n.ToggleMic("note1"))},null,8,["loading","icon"])])),_:1},8,["modelValue"])]),(0,s._)("div",qa,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Diagnostico 2",modelValue:l.history.note2,"onUpdate:modelValue":t[25]||(t[25]=e=>l.history.note2=e)},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{dense:"",flat:"",loading:l.loading,icon:l.isRecording?"mic":"mic_off",onClick:t[24]||(t[24]=e=>n.ToggleMic("note2"))},null,8,["loading","icon"])])),_:1},8,["modelValue"])]),(0,s._)("div",Pa,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Diagnostico 3",modelValue:l.history.note3,"onUpdate:modelValue":t[27]||(t[27]=e=>l.history.note3=e)},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{dense:"",flat:"",loading:l.loading,icon:l.isRecording?"mic":"mic_off",onClick:t[26]||(t[26]=e=>n.ToggleMic("note3"))},null,8,["loading","icon"])])),_:1},8,["modelValue"])]),(0,s._)("div",Na,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Diagnostico 4",modelValue:l.history.note4,"onUpdate:modelValue":t[29]||(t[29]=e=>l.history.note4=e)},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{dense:"",flat:"",loading:l.loading,icon:l.isRecording?"mic":"mic_off",onClick:t[28]||(t[28]=e=>n.ToggleMic("note4"))},null,8,["loading","icon"])])),_:1},8,["modelValue"])])])]),(0,s._)("div",Ma,[(0,s._)("div",Ga,[(0,s._)("div",ja,[(0,s._)("div",$a,[(0,s.Wm)(r,{name:"speed"}),(0,s.Uk)(" Exploracion fisica "),(0,s.Wm)(d,{dense:"",flat:"",loading:l.loading,icon:l.isRecording?"mic":"mic_off",onClick:t[30]||(t[30]=e=>n.ToggleMic("exploration"))},null,8,["loading","icon"])]),(0,s._)("div",Fa,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Exploracion fisica",modelValue:l.history.exploration,"onUpdate:modelValue":t[31]||(t[31]=e=>l.history.exploration=e),type:"textarea",ref:"exploration"},null,8,["modelValue"])])]),(0,s._)("div",Za,[(0,s._)("div",Qa,[(0,s.Wm)(r,{name:"o_description"}),(0,s.Uk)(" Receta Medica "),(0,s.Wm)(d,{dense:"",flat:"",loading:l.loading,icon:"add_circle_outline",onClick:n.addPrescription},null,8,["loading","onClick"])]),(0,s._)("div",Ba,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.queryMedicines,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"row"},[(0,s._)("div",Ha,[(0,s.Wm)(d,{flat:"",dense:"",rounded:"",icon:"o_edit",onClick:t=>n.editPrescription(e)},null,8,["onClick"]),(0,s.Wm)(d,{flat:"",dense:"",rounded:"",icon:"o_delete",onClick:e=>n.deletePrescription(t)},null,8,["onClick"]),(0,s.Uk)(" "+(0,f.zw)(t+1)+".- "+(0,f.zw)(e.name)+" "+(0,f.zw)(e.number)+" "+(0,f.zw)(e.unit)+" "+(0,f.zw)(e.times)+" "+(0,f.zw)(e.via)+" "+(0,f.zw)(e.diagnosis),1)])])))),128))])])])]),(0,s._)("div",za,[(0,s._)("div",Ya,[(0,s._)("div",Ka,[(0,s._)("div",Xa,[(0,s.Wm)(r,{name:"o_contact_support"}),(0,s.Uk)(" Observaciones "),(0,s.Wm)(d,{dense:"",flat:"",loading:l.loading,icon:l.isRecording?"mic":"mic_off",onClick:t[32]||(t[32]=e=>n.ToggleMic("observations"))},null,8,["loading","icon"])]),(0,s._)("div",Ja,[(0,s.Wm)(C,{dense:"",outlined:"",label:"Observaciones",ref:"observations",modelValue:l.history.observations,"onUpdate:modelValue":t[33]||(t[33]=e=>l.history.observations=e),type:"textarea"},null,8,["modelValue"])])]),(0,s._)("div",ei,[(0,s._)("div",ti,[(0,s.Wm)(r,{name:"work_outline"}),(0,s.Uk)(" Informacion laboral")]),(0,s._)("div",oi,[(0,s._)("div",ai,[(0,s.Wm)(w,{dense:"",outlined:"",label:"Resumen medico",ref:"summary",modelValue:l.history.summary,"onUpdate:modelValue":t[34]||(t[34]=e=>l.history.summary=e),options:l.summaries},null,8,["modelValue","options"])]),(0,s._)("div",ii,[(0,s.Wm)(w,{dense:"",outlined:"",label:"Medida de accion",modelValue:l.history.action,"onUpdate:modelValue":t[35]||(t[35]=e=>l.history.action=e),options:l.actions},null,8,["modelValue","options"])]),(0,s._)("div",li,[(0,s.Wm)(w,{clearable:"",dense:"",outlined:"",label:"RAYOS X - TOMOGRAFIA",multiple:"",ref:"summary",modelValue:l.history.tomografias,"onUpdate:modelValue":t[36]||(t[36]=e=>l.history.tomografias=e),options:l.tomografias},null,8,["modelValue","options"])]),(0,s._)("div",si,[(0,s.Wm)(w,{clearable:"",dense:"",outlined:"",label:"ECOGRAFIA",multiple:"",ref:"summary",modelValue:l.history.ecografias,"onUpdate:modelValue":t[37]||(t[37]=e=>l.history.ecografias=e),options:l.ecografias},null,8,["modelValue","options"])]),(0,s._)("div",ni,[(0,s.Wm)(w,{clearable:"",dense:"",outlined:"",label:"laboratiorios",multiple:"",ref:"summary",modelValue:l.history.laboratorios,"onUpdate:modelValue":t[38]||(t[38]=e=>l.history.laboratorios=e),options:l.laboratorios},null,8,["modelValue","options"])])])])])]),(0,s._)("div",ri,[(0,s._)("div",null,[di,(0,s.Uk)(" "+(0,f.zw)(l.store.user.name)+" ",1),ci,(0,s.Uk)(" "+(0,f.zw)(n.formatDate(l.hoy)),1)])]),(0,s._)("div",ui,[(0,s.Wm)(d,{loading:l.loading,onClick:n.historySubmit,label:l.historyCreate?"Registrar":"Modificar","no-caps":"",class:(0,f.C_)(`full-width ${l.historyCreate?"bg-green text-white":"bg-yellow"} `),icon:l.historyCreate?"check_circle_outline":"edit",flat:""},null,8,["loading","onClick","label","class","icon"]),l.historyCreate?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(d,{key:0,loading:l.loading,onClick:t[39]||(t[39]=e=>n.deleteHistory(l.history)),label:"Eliminar","no-caps":"",class:(0,f.C_)("full-width bg-red text-white"),icon:"o_delete",flat:""},null,8,["loading"]))])])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(O,{modelValue:l.medicineDialog,"onUpdate:modelValue":t[49]||(t[49]=e=>l.medicineDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{style:{width:"750px","max-width":"80vh",height:"750px","max-height":"80vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{onSubmit:(0,a.iM)(n.addMedicines,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[mi,(0,s.Wm)(A),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[T]])])),_:1}),(0,s.Wm)(y,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s._)("div",pi,[(0,s._)("div",hi,[(0,s.Wm)(g,{style:{height:"400px"},"rows-per-page-options":[0],flat:"",bordered:"",title:"Seleccionar medicamento",columns:l.medicineColumns,dense:"",loading:l.loading,rows:l.medicines,filter:l.medicineFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{dense:"",flat:"",round:"",icon:"add_circle_outline",onClick:n.addMedicine},null,8,["onClick"]),(0,s.Wm)(C,{outlined:"",dense:"",modelValue:l.medicineFilter,"onUpdate:modelValue":t[41]||(t[41]=e=>l.medicineFilter=e),label:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,s.w5)((e=>[(0,s.Wm)(_,{props:e,onClick:t=>l.medicine.name=e.row.name},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{key:"options","auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dense:"",flat:"",round:"",icon:"edit",onClick:t=>n.editMedicine(e.row,e.rowIndex)},null,8,["onClick"]),(0,s.Wm)(d,{dense:"",flat:"",round:"",icon:"delete",onClick:t=>n.deleteMedicine(e.row,e.rowIndex)},null,8,["onClick"])])),_:2},1024),(0,s.Wm)(c,{key:"name"},{default:(0,s.w5)((()=>[(0,s._)("div",gi,(0,f.zw)(e.row.name),1)])),_:2},1024)])),_:2},1032,["props","onClick"])])),_:1},8,["columns","loading","rows","filter"])]),fi,(0,s._)("div",Ai,[(0,s.Wm)(C,{dense:"","options-dense":"",required:"",outlined:"",label:"Medicamento",modelValue:l.medicine.name,"onUpdate:modelValue":t[42]||(t[42]=e=>l.medicine.name=e)},null,8,["modelValue"])]),(0,s._)("div",yi,[(0,s.Wm)(C,{dense:"","options-dense":"",required:"",outlined:"",label:"Cantidad",modelValue:l.medicine.number,"onUpdate:modelValue":t[43]||(t[43]=e=>l.medicine.number=e),options:l.numbers,list:"numbers"},{default:(0,s.w5)((()=>[(0,s._)("datalist",Ci,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.numbers,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e,value:e},null,8,Ii)))),128))])])),_:1},8,["modelValue","options"])]),(0,s._)("div",wi,[(0,s.Wm)(w,{dense:"","options-dense":"",required:"",outlined:"",label:"Unidad",modelValue:l.medicine.unit,"onUpdate:modelValue":t[44]||(t[44]=e=>l.medicine.unit=e),options:l.units},null,8,["modelValue","options"])]),(0,s._)("div",bi,[(0,s.Wm)(w,{dense:"","options-dense":"",required:"",outlined:"",label:"Frecuencia",modelValue:l.medicine.times,"onUpdate:modelValue":t[45]||(t[45]=e=>l.medicine.times=e),options:l.times},null,8,["modelValue","options"])]),(0,s._)("div",Oi,[(0,s.Wm)(w,{dense:"","options-dense":"",required:"",outlined:"",label:"Via de administracion",modelValue:l.medicine.via,"onUpdate:modelValue":t[46]||(t[46]=e=>l.medicine.via=e),options:l.vias},null,8,["modelValue","options"])]),(0,s._)("div",_i,[(0,s.Wm)(w,{dense:"","options-dense":"",outlined:"",label:"Diagnostico",modelValue:l.medicine.diagnosis,"onUpdate:modelValue":t[47]||(t[47]=e=>l.medicine.diagnosis=e),options:["",1,2,3,4]},null,8,["modelValue"])])])])),_:1}),(0,s.Wm)(E,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{flat:"",label:"Cancelar",color:"primary",onClick:t[48]||(t[48]=e=>l.medicineDialog=!1)}),(0,s.Wm)(d,{label:"Guardar",color:"primary",type:"submit"})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])])),_:1})}var vi=o(69536);class Ri{static recetaPdf(e){const t=(0,me.A)().user,o=new vi.kH({format:[139.7,215,9]});o.addFont("fonts/DancingScript-VariableFont_wght.ttf","Dancing","normal"),o.addFont("fonts/Belanosima-Regular.ttf","Belanosima","normal"),o.setFillColor(43,187,179),o.rect(0,0,139.7,33,"F");const a=new Image;if(a.src="logoReceta.png",o.addImage(a,"png",5,0,45,44),o.setFontSize(17),o.setFont("Dancing","normal"),o.setTextColor(255,255,255),o.text(`Dr. ${t.name}`,95,8,{align:"center"}).setFont(void 0,"bold"),o.setFontSize(10),o.setFont("Belanosima","normal"),o.text(`${t.specialty}`,95,13,{align:"center"}),o.setFontSize(8),o.text("Especialidad: Hospital General Oruro",95,18,{align:"center"}),o.text("Actualizacion: Lima-Peru, Ciudad de Mexico, Panama, Corea del Sur",95,21,{align:"center"}),o.setFillColor(178,235,242),o.rect(50,25,90,8,"F"),o.triangle(40,33,50,33,50,25,"F"),o.setTextColor(0,0,0),o.setFontSize(7),o.text("Direccion: Calle Bolivar entre Pagador y Velazco Galvarro Edif. LEOMAR 2do. Piso",95,29,{align:"center"}),o.text("Galenus Especialidades Medicas 72483227 - 70413013",95,32,{align:"center"}),o.setFontSize(10),o.setFont("Belanosima","normal"),o.setFillColor(0,0,0),o.text("EDAD: ",5,40),o.rect(18,36,15,5),o.text("PESO: ",35,40),o.rect(48,36,15,5),o.text("TALLA: ",65,40),o.rect(78,36,15,5),o.text("TEMP: ",95,40),o.rect(108,36,15,5),o.text("NOMBRE: ....................................................................................................................................................",5,50),o.setFont("Dancing","normal"),o.text(`R. /P ${e.id}`,5,55),o.setFillColor(43,187,179),o.rect(0,205,139.7,10,"F"),o.setFillColor(178,235,242),o.rect(50,205,90,10,"F"),o.triangle(40,205,50,205,50,215,"F"),o.setFont("Belanosima","normal"),o.text("Fecha de Control, ..................... de ................. de 20............",120,198,{align:"right"}),o.text(`Oruro, ${he()().format("DD")} de ${he()().format("MMMM")} de ${he()().format("YYYY")}`,95,202,{align:"left"}),o.text("FAVOR NO CAMBIAR RECETA",95,211,{align:"center"}),o.text(`${this.calculateEdad(e.patient.birthday)} AÑOS`,19,40),o.text(null==e.height?"":`${e.height} KG`,51,40),o.text(null==e.weight?"":`${e.weight} CM`,79,40),o.text(null==e.tem?"":`${e.tem} °C`,109,40),o.text(`${e.patient.name} ${e.patient.lastname}`,25,49),e.query_medicines.length>0){o.setFontSize(10),o.setFont("Belanosima","normal"),o.text("MEDICAMENTOS",5,65),o.setFontSize(8),o.text("MEDICAMENTO",5,70),o.text("DOSIS",60,70),o.text("FRECUENCIA",90,70),o.text("UNIDAD",120,70),o.setFontSize(7);let t=75;e.query_medicines.forEach((e=>{console.log(e),o.text(`${e.medicine}`,5,t),o.text(`${e.number}`,60,t),o.text(`${e.time}`,90,t),o.text(`${e.unit}`,120,t),t+=5}))}o.save(`receta-${e.id}${he()().format("YYYYMMDDHHmmss")}.pdf`)}static calculateEdad(e){const t=he()(),o=he()(e),a=t.diff(o,"years");return a}}he().locale("es");const Ti=window.speechRecognition||window.webkitSpeechRecognition,Si={name:"HistoryItem",data(){return{medicineDialog:!1,medicine:{},ecografias:["ECOGRAFIA ABDOMINAL","ECOGRAFIA OBSTETRICA","ECOGRAFIA TRANSVAGINAL","ECOGRAFIA ABDOMINAL Y PELVICA","ECOGRAFIA RASTREO ABDOMINAL","ECOGRAFIA FAST","ECOGRAFIA HEPATOBILIOPANCREATICA","ECOGRAFIA RENOVESICAL PROSTATICA","ECOGRAFIA MAMARIA BILATERAL","ECOGRAFIA TIROIDEA","ECOGRAFIA TESTICULAR","ECOGRAFIA PARTES BLANDAS","ECOGRAFIA DOPPLER ARTERIAL POR MIEMBRO","ECOGRAFIA DOPPLER VENOSO POR MIEMBRO","OBSTETRICA AVANZADA VITALIDA FETAL","ECOGRAFIA CADERAS PEDIATRICO","ECOGRAFIA ESTRUCTURAL I,II Y III TRIMESTRE","ECOGRAFIA DOPLER OBSTETRICA","ECOGRAFIA 3D Y 4D","E","ECOGRAFIA OCULAR","ECOGRAFIA MUSCULO ESQUELETICA","PROCEDIMIENTOS GUIADOS POR ECOGRAFIA","ECOGRAFIA POR SEGUIMIENTO FOLICULAR","ECOGRAFIA GINECOLOGICA","ECOGRAFIA RENOVESICAL PRE Y POST MIXONARI","ECOGRAFIA CADERAS PEDIATRICO","ECOGRAFAI ESTRUCTURAL PRIMER TRIMESTRE","ECOGRAFAI ESTRUCTURAL SEGUNDO TRIMESTRE","ECOGRAFAI OBSTETRICA DOPPLER ","ECOGRAFIA 3D Y 4D ","ECOGRAFIA HEMITORAX","ECOGRAFIA PELVICA","ECOGRAFIA ESTRUCTURAL TERCER TRIMESTRE","ECOGRAFIA PULMONAR","ECOGRAFIA OCULAR","ECOGRAFIA MUSCULOESQUELETICA","PROCEDIMIENTOS GUIADOS POR ECOGRAFIA","ECOGRAFIA DE SEGUIMIENTO FOLICULAR (TRES ESTUDIOS)"],laboratorios:["GLICEMIA - GLICEMIA BASAL","CURVA TOLERANCIA ORAL DE GLUCOSA","HEMOGLOBINA GLICOSILADA   -  HB A1c","AMILASA","LIPASA","CREATININA","UREA ","BUN - NUS  (NITROGENO UREICO) ","ÁCIDO ÚRICO","PROTEINURIA DE 24 HORAS","EXAMEN GENERAL DE ORINA (EGO)","CREATINURIA DE 24 HORAS","LIPIDOGRAMA - PERFIL LIPÍDICO (COSTO SIN VLDL)","COLESTEROL TOTAL","TRIGLICERIDOS","HDL COLESTEROL ","LDL COLESTEROL","VLDL COLESTEROL","HEPATOGRAMA - PERFIL HEPÁTICO - (COSTO SIN GGT)","FOSFATASA ALCALINA","BILIRRUBINAS (FRACCIONES) (DIRECTA, INDIRECTA, TOTAL)","GOT (TRANSAMINASA)","GPT (TRANSAMINASA)","GGT","BILIRRUBINA TRANSCUTANEA","ELECTROLITOS (Na, K, Cl) - IONOGRAMA ","SODIO","CLORO","POTASIO","CALCIO","FÓSFORO","MAGNESIO","PROTEINOGRAMA (Proteína + Albúmina)","PROTEINAS TOTALES","ALBUMINA","GLOBULINAS","REL. ALBUMINA/GLOBULINA","PERFIL CARDIACO","TROPONINA I","CPK TOTAL","CK - MB ","LDH ","TOMA DE MUESTRA PARA PLASMA RICO EN PLAQUETAS x TUBO","PCR (PROTEÍNA C REACTIVA)","FR (FACTOR RUMATOIDEO) (LATEX)","ASTO (ANTIESTREPTOLISINA)","REACCIÓN DE WIDALL (ANTIGENO FEBRIL)","VDRL - RPR - SIFILIS","HELICOBACTER PILORY (SANGRE)","HELICOBACTER PILORY  (HECES)","B-HCG (ORINA O SANGRE)","VIH (PRUEBA RÁPIDA)",'HEPATITIS "A"  (HAV)','HEPATITIS "B" (HBsAg)','HEPATITIS "C" (HVC)',"HAI CHAGAS","HAI TOXOPLASMOSIS","HEMOGRAMA","HEMOGRAMA COMPLETO + VES","HEMATOCRITO + HEMOGLOBINA","LEUCOGRAMA","GRUPO SANGUÍNEO Y FACTOR","RETICULOCITOS","TUBO VACUTAINER","COAGULOGRAMA (COSTO SIN PLAQUETAS)","TIEMPO DE PROTROMBINA + INR + ACT%","TIEMPO DE COAGULACIÓN","TIEMPO DE SANGRÍA","RECUENTO DE PLAQUETAS (PQ)","EXAMEN DE SECRECIÓN VAGINAL + TINCIÓN GRAM","EXAMEN DE SECRECIÓN URETRAL + TINCION GRAM","TAMIZAJE NEONATAL (PAQUETE DE 4 PRUEBAS)","TSH NEONATAL - TAMISAJE HIPOTIROIDISMO","PESQUIZA PRENATAL (DUO DE MATERNIDAD)","PESQUIZA PRENATAL (TRIO DE MATERNIDAD)","SANGRE OCULTA EN HECES","TINCIÓN GRAM","REACCIÓN DE BENEDITC Y PH","MOCO FECAL","COPROPARASITOLÓGICO SIMPLE","COPROPARASITOLÓGICO SERIADO","GASOMETRIA ARTERIAL CON LACTATO","GASOMETRIA ARTERIAL CON ELECTROLITOS","PRUEBA RÁPIDA COVID 19 (CUALITATIVA)","PRUEBA COVID 19 (INMUNOFLUORESCENCIA)(CUANTIFICADO)","ACTH ","ADA EN LIQUIDOS","ADENOVIRUS","ALCOHOLEMIA","ALFA FETO PROTEINA ----AFP","AMEBAS ELISAS","ANA","ANCA C","ANCA P ","ANTI CCP","ANTI DNA","ANTI TG","ANTIGENO PARA HELICOBACTER PYLORI EN HECES","BACILOSCOPIA ","BACTERISCOPIA DE SECRECION","CA -125","CA 15 -3 ","CA 19 - 9","CEA - CARCINOEMBRINARIO","CELULA L.E.","CHAGAS ELISA","CISTICERCOSIS","CITOMEGALOVIRUS IGG","CITOMEGALOVIRUS IGM","CITOQUIMICO DE LIQUIDOS","CLAMIDIA IGG","CLAMIDIA IGM","COMPLEMENTO C3","COMPLEMENTO C4","COPROCULTIVO Y ANTIBIOGRAMA","CORTISOL AM-PM ","CULTIVO DE SECRECIONES Y ANTIBIOGRAMA","DHEAS","DIMERO D","EIPSTEN  BARR IGG","EIPSTEN  BARR IGM","ENA PROFILE ","ESTRADIOL","FERRITINA","HORMONA FOLICULO ESTIMULANTE (FSH)","GIARDIA ELISAS","HCG CUANTITATIVO","HELICOBACTER PYLORI IGG","HELICOBACTER PYLORI IGM","HEMOCULTIVO","HEMOCULTIVO X 2 (SERIADO)","HEPATITIS C","HERPES VIRUS IGG","HERPES VIRUS IGM","HIDATIDOSIS","HIERRO POR ELISA","HORMONA DE CRECIMIENTO ","INMUNOGLOBULINA IgA","INMUNOGLOBULINA IgE","INMUNOGLOBULINA IgM","INSULINA","HORMONA LUTEINIZANTE (LH)","PANEL MULTIDROGAS","PARATHORMONA","PCR ULTRASENSIBLE","PROGESTERONA","PROLACTINA","PSA LIBRE","PSA TOTAL","ROTAVIRUS","RUBEOLA IGG","RUBEOLA IGM","SEMINOGRAMA - ESPERMIOGRAMA","T3","T4 LIBRE","TEST DE CRISTALIZACION","TESTOSTERONA","TOXOPLASMOSIS IGG","TOXOPLASMOSIS IGM","TPO","TRANSFERRINA","TSH ADULTO ","UROCULTIVO Y ANTIBIOGRAMA","VIH ELISA","ANTIGENO NASAL COVID","ANTI TGO","ANTI TPO","APTT - TPTA","CALPROTECTINA","ESTROGENO","FIBRINOGENO","MICROALBUMINURIA","PERFIL TIROIDEO COMPLETO","RETROCULTIVO","T4 TOTAL","TGO","TIROGLOBULINA","PROCALCITONINA","ANTI CCP","INTERLEUCINA - 6 (IL-6)","TRIPLE CARDIACO (MIOGLUBINA/TROPONINA I/CK MB)","LAB-PAQUETE GINECOLOGICO","TORCH","ACIDO URICO","PCR - RT COVID","ANTIGENO NASAL SEGUROS","GASOMETRIA ARTERIAL CON ELECTROLITOS SEGUROS","GASOMETRIA ARTERIAL CON LACTATO SEGUROS","TEST GRAHAM(TEST TAPE)","HEPATITIS B ELISA","AMONIO","COOMBS DIRECTO","COOMBD INDIRECTO","CITOQUÍMICO DE LIQUIDO SINOVIAL","CITOQUIMICO DE LIQUIDO ASCITICO O PERITONEAL","CITOQUIMICO DE LIQUIDO PLEURAL","CITOQUIMICO DE LIQUIDO PERICARDICO","CITOQUIMICO DE LCR","TIEMPO DE TROMBINA - TT","MICROALBUMINURIA - MICROALBÚMINA EN ORINA DE 24 HORAS U ORINA OCASIONAL","RELACIÓN CREATINURIA/ALBUMINURIA","FRUCTOSAMINA","LIPIDOS TOTALES","ANTICUERPO ANTICARDIOLIPINA IGG - IGM","MIOGLOBINA","NT-proBNP (NT-PROPÉPTIDO NATRIURÉTICO CEREBRAL)","HIERRO","TICB + SATURACIÓN DE TRANSFERRINA","TSH ULTRASENSIBLE","TSH - TIROTROPINA","T3 LIBRE","ANTI-TIROGLOBULINA / ANTI TG","ANTI-PEROXIDASA / ANTI TPO","HORMONA ANTIMULLERIANA (AHM)","TESTOSTERONA LIBRE","17-HIDROXIPROGESTERONA","VITAMINA D3 - COLECALCIFEROL","ANTI CCP - CLIA","ANA (ANTICUERPOS ANTINUCLEARES)","PERFIL ENA (SS-A, SS-B, Scl-70, Jo-1, rnp, Sm)","PEPTIDO C","UROCULTIVO","COPROCULTIVO","ESPERMOCULTIVO","CULTIVO DE SECRECIÓN VAGINAL","CULTIVO DE SECRECIÓN URETRAL","CULTIVO DE ESPUTO","CULTIVO DE HISOPADO FARINGEO","CULTIVO DE ABCESOS","CULTIVO DE PUNTA DE CATETER","BACILOSCOPIA SIMPLE EN ESPUTO - BK ESPUTO","BACILOSCOPIA SERIADA EN ESPUTO - BK (2MUESTRAS)","COCAINA","MARIHUANA","COVID - 19 PCR + TOMA DE MUESTRA","SIFILIS ELISA","B 2 MICROGLOBULINA"],tomografias:["Test de Farrell (2 años) # 1 - 14 x 17","Pelvis entrada y salida (adulto) # 2 - 14 x 17","Histerosalpingografia # 1 - 11 x 14","Colangiografía # 1 - 8 x 10","Cráneo AP- LAT. # 1 - 11 x 14","Huesos propios de la Nariz # 1 - 8 x 10","Senos Paranasales MNP- FNP # 2 - 8 x 10","Watters – Cadwell # 1 - 8 x 10","Maxilar Inferior frente # 1 - 8 x 10","Hirtz - towne o base de cráneo # 1 - 8 x 10","Columna cervical AP- LAT. # 1 - 11 x 14","Columna Cervical dinamicas # 1 - 11 x 14","Columna Dorsal AP- LAT. # 1 - 14 x 17","Columna Lumbar AP- LAT. # 1 - 14 x 17","Columna sacro coccix AP- LAT. # 1 - 11 x 14","Tórax PA # 1 - 14 x 17","Torax LAT # 1 - 14 x 17","Hemitorax o Parrilla costal # 1 - 14 x 17","Abdomen Simple o de pie # 1 - 14 x 17","Pelvis o Cadera (adulto) # 1 - 14 x 17","Pelvis Obturatriz - Alar # 1 - 14 x 17","Femur AP- LAT # 1 - 14 x 17","Pierna AP- LAT # 1 - 14 x 17","Brazo o Humero AP- LAT # 1 - 14 x 17","Antebrazo AP- LAT # 1 - 14 x 17","Pelvis o Cadera (niño) # 1 - 8 x 10","Rodilla AP- LAT # 1 - 11 x 14","Pie AP- OBL o LAT # 1 - 11 x 24","Mano PA- OBL o LAT # 1 - 11 x 14",'Axiales de rotulas 60 ", 45 ", 30 # 1 - 8 x 10',"Tobillo AP- LAT # 1 - 8 x 10","Calcaneo Axial - LAT # 1 - 8 x 10","Clavicula - Hombro - Escapula # 1 - 8 x 10","Codo AP- LAT # 1 - 8 x 10","Muñeca AP- LAT # 1 - 8 x 30","Cráneo Simple - con ventana ósea","Cráneo con contraste","Silla turca – Hipófisis sin contraste","Silla turca – Hipófisis con contraste","Oídos – peñascos sin contraste","Oídos – peñascos con contraste","Orbitas sin contraste","Orbitas con contraste","Senos paranasales sin contraste","Senos paranasales con contraste","Macizo Facial sin contraste","Macizo Facial con contraste","Cuello sin contraste","Cuello con contraste","Tórax sin contraste","Tórax con contraste","Abdomen y pelvis sin contraste","Abdomen y pelvis con contraste","Pelvis sin contraste","Pelvis con contraste","Columna cervical","Columna Dorsal","Columna Lumbar","Columna Sacro-coxis","Columna total Sin contraste","Columna total con contraste técnica Raquídea","Hombro-codo-muñeca-mano-rodilla-tobillo-pie + 3D","Pierna-fémur-antebrazo-humero + 3D","Patelo femoral 15°- 30°- 45° - 60°- 90° (Rotulas)","PIELOTAC sin contraste (Abdomen simple)","Perfusión Cerebral por tomografía","Angiotomografía de cerebro (polígono de Willis o cuatro vasos)","Angiotomografía de carótidas","Angiotomografía de Arterias pulmonares (ANGIO TEP)","Angio (UROTAC)","Angiotomografía de arteria Aorta","Angiotomografía de miembro inferior Total (ANGIO MMII)","Angiotomografía de miembro superior Total (ANGIO MMss)","PIELOTAC sin contraste ( Abdomen simple)","Perfucion Cerebral por tomografia","RX Histerosalpingografia","rayos x de craneo","UROGRAMA EXCRETOR"],medicineFilter:"",medicineColumns:[{name:"options",label:"Opciones",field:"options",sortable:!0},{name:"name",label:"Medicamento",field:"name",align:"left",sortable:!0}],summaries:["ACCIDENTE DE TRABAJO","ACCIDENTE DE TRANSITO","ACCIDENTE DE TRABAJO Y TRANSITO","ACCIDENTE DE TRABAJO Y ENFERMEDAD PROFESIONAL","CONSULTA EXTERNA","CONSULTA GENERAL","OTROS","HISTORIA CLINICA"],actions:["REPOSOS","SIN TRATAMIENTO","TRATAMIENTO","OTROS"],scrollAreaRef:null,loading:!1,store:(0,me.A)(),filter:"",patient:{},id:this.$route.params.id,historyCreate:!0,historyShow:!1,url:"https://cmedical.siscenter.org/api/",hoy:ue.ZP.formatDate(new Date,"YYYY-MM-DD"),history:{},histories:[],historyColumns:[{name:"options",label:"Opciones",field:"options"},{name:"date",label:"Fecha",field:"date",sortable:!0},{name:"doctor",label:"doctor",field:e=>e.user.name,sortable:!0},{name:"exploration",label:"Exploracion",field:"exploration",sortable:!0},{name:"observations",label:"Observaciones",field:"observations",sortable:!0}],isRecording:!1,sr:null,type:"",queryMedicines:[],medicines:[],numbers:[],units:[],times:[],vias:[],medicineCreate:!1}},created(){this.medicinesGet(),this.numbersGet(),this.unitsGet(),this.timesGet(),this.viasGet(),this.sr=new Ti,this.sr.continuous=!0,this.sr.interimResults=!0,this.sr.lang="es",this.sr.onresult=e=>{this.loading=!0;for(let t=e.resultIndex;t<e.results.length;t++){const o=e.results[t][0].transcript;e.results[t].isFinal&&(this.loading=!1,"note1"===this.type?this.history.note1+=o:"exploration"===this.type?this.history.exploration+=o:"observations"===this.type?this.history.observations+=o:"prescription1"===this.type?this.history.prescription1+=o:"prescription2"===this.type?this.history.prescription2+=o:"prescription3"===this.type?this.history.prescription3+=o:"prescription4"===this.type?this.history.prescription4+=o:"prescription5"===this.type?this.history.prescription5+=o:"note1"===this.type?this.history.note1+=o:"note2"===this.type?this.history.note2+=o:"note3"===this.type?this.history.note3+=o:"note4"===this.type&&(this.history.note4+=o))}},this.patientGet()},methods:{editPrescription(e){this.medicine=e,this.medicineDialog=!0,this.medicineCreate=!1},deletePrescription(e){this.$q.dialog({title:"Eliminar",message:"¿Estas seguro de eliminar esta prescripcion?",cancel:!0,persistent:!0}).onOk((()=>{this.queryMedicines.splice(e,1)})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismiss")}))},editMedicine(e,t){this.$q.dialog({title:"Editar medicamento",message:"¿Desea editar el medicamento?",prompt:{model:e.name,type:"text"},cancel:!0}).onOk((o=>{this.medicines[t].name=o,this.$api.put("medicines/"+e.id,{name:o}).then((e=>{this.$q.notify({message:"Medicamento editado",color:"positive",icon:"check_circle"})})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"negative",icon:"error"})}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismissed")}))},deleteMedicine(e,t){this.$q.dialog({title:"Eliminar",message:"¿Estas seguro de eliminar este medicamento?",cancel:!0,persistent:!0}).onOk((()=>{this.medicines.splice(t,1),this.$api.delete("medicines/"+e.id)})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismissed")}))},addMedicine(){this.$q.dialog({title:"Agregar medicamento",message:"Ingrese el nombre del medicamento",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk((e=>{this.medicines.push({id:this.medicines.length+1,name:e}),this.$api.post("medicines",{name:e}).then((e=>{this.$q.notify({message:"Medicamento agregado",color:"positive",icon:"check_circle"})}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismissed")}))},addMedicines(){if(this.medicineCreate)this.medicine.id=this.queryMedicines.length+1,this.queryMedicines.push(this.medicine),this.medicine={},this.medicineDialog=!1;else{const e=this.queryMedicines.find((e=>e.id===this.medicine.id));this.queryMedicines[this.queryMedicines.indexOf(e)]=this.medicine,this.medicineDialog=!1}},addPrescription(){this.medicineDialog=!0,this.medicine={},this.medicineCreate=!0},medicinesGet(){this.$api.get("medicines").then((e=>{this.medicines=e.data}))},numbersGet(){this.$api.get("numbers").then((e=>{this.numbers=e.data.map((e=>e.name))}))},unitsGet(){this.$api.get("units").then((e=>{this.units=e.data.map((e=>e.name))}))},timesGet(){this.$api.get("times").then((e=>{this.times=e.data.map((e=>e.name))}))},viasGet(){this.$api.get("vias").then((e=>{this.vias=e.data.map((e=>e.name))}))},editHistory(e){this.history=e,this.historyCreate=!1,this.historyShow=!0,this.queryMedicines=[],this.history.fum=this.history.FUM,this.history.sdg=this.history.SDG,this.history.fu=this.history.FU,e.tomografias&&(this.history.tomografias=e.tomografias.split(",")),e.radiografias&&(this.history.radiografias=e.radiografias.split(",")),e.laboratorios&&(this.history.laboratorios=e.laboratorios.split(",")),this.history.query_medicines.forEach((e=>{e.name=e.medicine,this.queryMedicines.push(e)}))},printReceta(e){Ri.recetaPdf(e)},deleteHistory(e){this.$q.dialog({title:"Eliminar",message:"¿Estas seguro de eliminar esta historia clinica?",ok:"Si",cancel:"NO"}).onOk((()=>{this.loading=!0,this.$api.delete("queries/"+e.id).then((e=>{this.historyShow=!1,this.$q.notify({message:"Historia clinica eliminada",color:"positive",icon:"check_circle"}),this.historyGet()})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"negative",icon:"error"})})).finally((()=>{this.loading=!1}))}))},aniateScroll(e,t){this.$refs.scrollAreaRef.setScrollPosition("vertical",e,300),"weight"===t?this.$refs.weight.focus():"fum"===t?this.$refs.fum.focus():"smokerDescription"===t?this.$refs.smokerDescription.focus():"note"===t?this.$refs.note.focus():"exploration"===t?this.$refs.exploration.focus():"prescription1"===t?this.$refs.prescription1.focus():"observations"===t?this.$refs.observations.focus():"summary"===t&&this.$refs.summary.focus()},ToggleMic(e){this.type=e,this.isRecording?(this.sr.stop(),this.isRecording=!1):(this.sr.start(),this.isRecording=!0)},formatDateAge(e){return he()(e).fromNow(!0)},formatDate(e){return he()(e).format("DD/MMM/YYYY")},formatTime(e){return he()(e,"HH:mm:ss").format("hh:mm a")},historyAddClick(){this.queryMedicines=[],this.history={date:ue.ZP.formatDate(new Date,"YYYY-MM-DD"),fum:ue.ZP.formatDate(new Date,"YYYY-MM-DD"),note1:"",note2:"",note3:"",note4:"",weight:"",height:"",exploration:"",observations:"",smoker:"NO",smokerDescription:"",pregnant:"NO",alcohol:"NO",alcoholDescription:"",prescription1:"",prescription2:"",prescription3:"",prescription4:"",prescription5:"",motivo:"",enfermedad:""},this.historyCreate=!0,this.historyShow=!0},historySubmit(){this.loading=!0,this.history.FUM=this.history.fum,this.history.SDG=this.history.calculateGestation,this.history.FU=this.history.fu,this.historyCreate?(this.history.hospital_id=this.store.user.hospital_id,this.history.patient_id=this.id,this.history.user_id=this.store.user.id,this.history.medicines=this.queryMedicines,this.$api.post("queries",this.history).then((e=>{this.historyShow=!1,this.historyGet(),this.$q.notify({message:"Historia clinica creada",color:"positive",icon:"check_circle"})})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"negative",icon:"error"})})).finally((()=>{this.loading=!1}))):(this.history.medicines=this.queryMedicines,this.$api.put("queries/"+this.history.id,this.history).then((e=>{this.historyShow=!1,this.historyGet(),this.$q.notify({message:"Historia clinica actualizada",color:"positive",icon:"check_circle"})})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"negative",icon:"error"})})).finally((()=>{this.loading=!1})))},historyGet(){this.loading=!0,this.$api.get(`queries/${this.id}`).then((e=>{this.histories=e.data,this.loading=!1}))},patientGet(){this.loading=!0,this.$api.get(`patients/${this.id}`).then((e=>{this.patient=e.data,this.historyGet()})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"negative",icon:"error"}),this.loading=!1})).finally((()=>{}))}},computed:{calculateGestation(){if(this.history.fum){const e=he()(this.history.fum),t=he()(),o=t.diff(e,"weeks");return o<50?o:0}return 0},calculateIMC(){const e=(this.history.weight/(this.history.height*this.history.height)).toFixed(2);return isNaN(e)?0:e},calculateIMCText(){const e=(this.history.weight/(this.history.height*this.history.height)).toFixed(2);return isNaN(e)?"Sin datos":e<18.5?"Bajo peso":e>=18.5&&e<=24.9?"Normal":e>=25&&e<=29.9?"Sobrepeso":e>=30&&e<=34.9?"Obesidad grado 1":e>=35&&e<=39.9?"Obesidad grado 2":e>=40?"Obesidad grado 3":0}}};var xi=o(66663),Ui=o(11480),Di=o(31233);const ki=(0,d.Z)(Si,[["render",Ei]]),Vi=ki;Y()(Si,"components",{QPage:N.Z,QIcon:Ae.Z,QBtn:B.Z,QTable:fe.Z,QTd:ye.Z,QBtnDropdown:we.Z,QList:be.Z,QItem:Z.Z,QItemSection:Q.Z,QDialog:Oe.Z,QCard:M.Z,QCardSection:G.Z,QSpace:_e.Z,QScrollArea:xi.Z,QInput:H.Z,QSelect:F.Z,QRadio:Ui.Z,QForm:Ee.Z,QTr:Di.Z,QCardActions:ve.Z}),Y()(Si,"directives",{ClosePopup:Re.Z});const Wi=[{path:"/",component:()=>Promise.all([o.e(736),o.e(770)]).then(o.bind(o,7770)),children:[{path:"",component:ot,meta:{requiresAuth:!0}},{path:"category",component:vt,meta:{requiresAuth:!0}},{path:"product",component:Ao,meta:{requiresAuth:!0}},{path:"sale",component:X,meta:{requiresAuth:!0}},{path:"patient",component:Se,meta:{requiresAuth:!0}},{path:"reservations",component:Xe,meta:{requiresAuth:!0}},{path:"history/:id",component:Vi,meta:{requiresAuth:!0}}]},{path:"/signup",component:()=>Promise.all([o.e(736),o.e(857)]).then(o.bind(o,48857))},{path:"/login",component:()=>Promise.all([o.e(736),o.e(448)]).then(o.bind(o,85448))},{path:"/:catchAll(.*)*",component:()=>o.e(862).then(o.bind(o,91862))}],Li=Wi,qi=(0,m.BC)((function(){const e=g.r5,t=(0,g.p7)({scrollBehavior:()=>({left:0,top:0}),routes:Li,history:e("")});return t.beforeEach(((e,t,o)=>{if(e.matched.some((e=>e.meta.requiresAuth))){if((0,me.A)().isLoggedIn)return void o();o("/login")}else o()})),t}));async function Pi(e,t){const o=e(u);o.use(i.Z,t);const a="function"===typeof h?await h({}):h;o.use(a);const s=(0,l.Xl)("function"===typeof qi?await qi({store:a}):qi);return a.use((({store:e})=>{e.router=s})),{app:o,store:a,router:s}}var Ni=o(8934),Mi=o(6827),Gi=o(26950),ji=o(73527),$i=o(63703);const Fi={config:{},lang:Ni.Z,plugins:{Notify:Mi.Z,Loading:Gi.Z,Dialog:ji.Z,LocalStorage:$i.Z}};var Zi=o(70368);(0,Zi.z)("service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&o.e(736).then(o.t.bind(o,84848,23));const Qi="";async function Bi({app:e,router:t,store:o},a){let i=!1;const l=e=>{try{return t.resolve(e).href}catch(o){}return Object(e)===e?null:e},s=e=>{if(i=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=l(e);null!==t&&(window.location.href=t,window.location.reload())},n=window.location.href.replace(window.location.origin,"");for(let d=0;!1===i&&d<a.length;d++)try{await a[d]({app:e,router:t,store:o,ssrContext:null,redirect:s,urlPath:n,publicPath:Qi})}catch(r){return r&&r.url?void s(r.url):void console.error("[Quasar] boot error:",r)}!0!==i&&(e.use(t),e.mount("#q-app"))}Pi(a.ri,Fi).then((e=>{const[t,a]=void 0!==Promise.allSettled?["allSettled",e=>e.map((e=>{if("rejected"!==e.status)return e.value.default;console.error("[Quasar] boot error:",e.reason)}))]:["all",e=>e.map((e=>e.default))];return Promise[t]([Promise.resolve().then(o.bind(o,91569))]).then((t=>{const o=a(t).filter((e=>"function"===typeof e));Bi(e,o)}))}))},91569:(e,t,o)=>{"use strict";o.r(t),o.d(t,{api:()=>d,default:()=>c});o(69665);var a=o(23340),i=o(39981),l=o.n(i),s=o(77292),n=o(43878),r=o.n(n);const d=l().create({baseURL:"https://cmedical.siscenter.org/api/"}),c=(0,a.xr)((({app:e,router:t})=>{e.config.globalProperties.$filters={ageMonthDays:e=>{const t=r()().diff(e,"years"),o=r()().diff(e,"months"),a=o-12*t,i=r()().diff(e,"days"),l=i-30*o;return` ${t} años ${a} meses ${l} días`}},e.config.globalProperties.$axios=l(),e.config.globalProperties.$api=d;const o=localStorage.getItem("tokenHospital");o?(e.config.globalProperties.$api.defaults.headers.common.Authorization=`Bearer ${o}`,e.config.globalProperties.$api.post("me").then((e=>{(0,s.A)().user=e.data,(0,s.A)().isLoggedIn=!0})).catch((o=>{console.log(o),e.config.globalProperties.$api.defaults.headers.common.Authorization="",(0,s.A)().user={},localStorage.removeItem("tokenHospital"),(0,s.A)().isLoggedIn=!1,t.push("/login")}))):(t.push("/login"),(0,s.A)().user={},localStorage.removeItem("tokenHospital"),(0,s.A)().isLoggedIn=!1)}))},77292:(e,t,o)=>{"use strict";o.d(t,{A:()=>i});var a=o(81809);const i=(0,a.Q_)("counter",{state:()=>({counter:0,isLoggedIn:!!localStorage.getItem("tokenHospital"),user:{}}),getters:{doubleCount:e=>2*e.counter},actions:{increment(){this.counter++}}})},46700:(e,t,o)=>{var a={"./af":73902,"./af.js":73902,"./ar":36314,"./ar-dz":75666,"./ar-dz.js":75666,"./ar-kw":76591,"./ar-kw.js":76591,"./ar-ly":7900,"./ar-ly.js":7900,"./ar-ma":5667,"./ar-ma.js":5667,"./ar-sa":36335,"./ar-sa.js":36335,"./ar-tn":86916,"./ar-tn.js":86916,"./ar.js":36314,"./az":1699,"./az.js":1699,"./be":98988,"./be.js":98988,"./bg":97437,"./bg.js":97437,"./bm":97947,"./bm.js":97947,"./bn":12851,"./bn-bd":34905,"./bn-bd.js":34905,"./bn.js":12851,"./bo":97346,"./bo.js":97346,"./br":1711,"./br.js":1711,"./bs":63706,"./bs.js":63706,"./ca":70112,"./ca.js":70112,"./cs":36406,"./cs.js":36406,"./cv":41853,"./cv.js":41853,"./cy":39766,"./cy.js":39766,"./da":36836,"./da.js":36836,"./de":59320,"./de-at":14904,"./de-at.js":14904,"./de-ch":26710,"./de-ch.js":26710,"./de.js":59320,"./dv":73274,"./dv.js":73274,"./el":80286,"./el.js":80286,"./en-au":30143,"./en-au.js":30143,"./en-ca":237,"./en-ca.js":237,"./en-gb":82428,"./en-gb.js":82428,"./en-ie":53349,"./en-ie.js":53349,"./en-il":13764,"./en-il.js":13764,"./en-in":67809,"./en-in.js":67809,"./en-nz":59851,"./en-nz.js":59851,"./en-sg":95594,"./en-sg.js":95594,"./eo":4483,"./eo.js":4483,"./es":62184,"./es-do":25777,"./es-do.js":25777,"./es-mx":89356,"./es-mx.js":89356,"./es-us":68496,"./es-us.js":68496,"./es.js":62184,"./et":97578,"./et.js":97578,"./eu":2092,"./eu.js":2092,"./fa":15927,"./fa.js":15927,"./fi":50171,"./fi.js":50171,"./fil":82416,"./fil.js":82416,"./fo":89937,"./fo.js":89937,"./fr":55172,"./fr-ca":77495,"./fr-ca.js":77495,"./fr-ch":97541,"./fr-ch.js":97541,"./fr.js":55172,"./fy":37907,"./fy.js":37907,"./ga":66361,"./ga.js":66361,"./gd":2282,"./gd.js":2282,"./gl":52630,"./gl.js":52630,"./gom-deva":80680,"./gom-deva.js":80680,"./gom-latn":66220,"./gom-latn.js":66220,"./gu":57506,"./gu.js":57506,"./he":5540,"./he.js":5540,"./hi":46067,"./hi.js":46067,"./hr":79669,"./hr.js":79669,"./hu":13396,"./hu.js":13396,"./hy-am":36678,"./hy-am.js":36678,"./id":44812,"./id.js":44812,"./is":94193,"./is.js":94193,"./it":67863,"./it-ch":959,"./it-ch.js":959,"./it.js":67863,"./ja":41809,"./ja.js":41809,"./jv":28657,"./jv.js":28657,"./ka":33290,"./ka.js":33290,"./kk":98418,"./kk.js":98418,"./km":77687,"./km.js":77687,"./kn":21375,"./kn.js":21375,"./ko":32641,"./ko.js":32641,"./ku":83518,"./ku.js":83518,"./ky":85459,"./ky.js":85459,"./lb":91978,"./lb.js":91978,"./lo":86915,"./lo.js":86915,"./lt":8948,"./lt.js":8948,"./lv":12548,"./lv.js":12548,"./me":98608,"./me.js":98608,"./mi":50333,"./mi.js":50333,"./mk":76611,"./mk.js":76611,"./ml":10999,"./ml.js":10999,"./mn":54098,"./mn.js":54098,"./mr":86111,"./mr.js":86111,"./ms":73717,"./ms-my":90265,"./ms-my.js":90265,"./ms.js":73717,"./mt":28980,"./mt.js":28980,"./my":96895,"./my.js":96895,"./nb":15348,"./nb.js":15348,"./ne":31493,"./ne.js":31493,"./nl":34419,"./nl-be":85576,"./nl-be.js":85576,"./nl.js":34419,"./nn":46907,"./nn.js":46907,"./oc-lnc":12321,"./oc-lnc.js":12321,"./pa-in":89239,"./pa-in.js":89239,"./pl":97627,"./pl.js":97627,"./pt":15703,"./pt-br":91623,"./pt-br.js":91623,"./pt.js":15703,"./ro":22747,"./ro.js":22747,"./ru":64420,"./ru.js":64420,"./sd":52148,"./sd.js":52148,"./se":12461,"./se.js":12461,"./si":12783,"./si.js":12783,"./sk":93306,"./sk.js":93306,"./sl":341,"./sl.js":341,"./sq":8608,"./sq.js":8608,"./sr":72451,"./sr-cyrl":73371,"./sr-cyrl.js":73371,"./sr.js":72451,"./ss":8812,"./ss.js":8812,"./sv":53820,"./sv.js":53820,"./sw":43615,"./sw.js":43615,"./ta":12869,"./ta.js":12869,"./te":12044,"./te.js":12044,"./tet":65861,"./tet.js":65861,"./tg":66999,"./tg.js":66999,"./th":20926,"./th.js":20926,"./tk":97443,"./tk.js":97443,"./tl-ph":59786,"./tl-ph.js":59786,"./tlh":92812,"./tlh.js":92812,"./tr":16952,"./tr.js":16952,"./tzl":9573,"./tzl.js":9573,"./tzm":55990,"./tzm-latn":92851,"./tzm-latn.js":92851,"./tzm.js":55990,"./ug-cn":52610,"./ug-cn.js":52610,"./uk":9498,"./uk.js":9498,"./ur":83970,"./ur.js":83970,"./uz":19006,"./uz-latn":26,"./uz-latn.js":26,"./uz.js":19006,"./vi":9962,"./vi.js":9962,"./x-pseudo":68407,"./x-pseudo.js":68407,"./yo":91962,"./yo.js":91962,"./zh-cn":28909,"./zh-cn.js":28909,"./zh-hk":34014,"./zh-hk.js":34014,"./zh-mo":90996,"./zh-mo.js":90996,"./zh-tw":36327,"./zh-tw.js":36327};function i(e){var t=l(e);return o(t)}function l(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=l,e.exports=i,i.id=46700}},t={};function o(a){var i=t[a];if(void 0!==i)return i.exports;var l=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(l.exports,l,l.exports,o),l.loaded=!0,l.exports}o.m=e,(()=>{var e=[];o.O=(t,a,i,l)=>{if(!a){var s=1/0;for(c=0;c<e.length;c++){for(var[a,i,l]=e[c],n=!0,r=0;r<a.length;r++)(!1&l||s>=l)&&Object.keys(o.O).every((e=>o.O[e](a[r])))?a.splice(r--,1):(n=!1,l<s&&(s=l));if(n){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,i,l]}})(),(()=>{o.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return o.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;o.t=function(a,i){if(1&i&&(a=this(a)),8&i)return a;if("object"===typeof a&&a){if(4&i&&a.__esModule)return a;if(16&i&&"function"===typeof a.then)return a}var l=Object.create(null);o.r(l);var s={};e=e||[null,t({}),t([]),t(t)];for(var n=2&i&&a;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((e=>s[e]=()=>a[e]));return s["default"]=()=>a,o.d(l,s),l}})(),(()=>{o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,a)=>(o.f[a](e,t),t)),[]))})(),(()=>{o.u=e=>"js/"+e+"."+{448:"02b8cc08",770:"5595867f",857:"cfe8deae",862:"ad906231"}[e]+".js"})(),(()=>{o.miniCssF=e=>"css/"+({143:"app",736:"vendor"}[e]||e)+"."+{143:"31d6cfe0",448:"0b236af8",736:"c76b2e50",857:"6e9c3142"}[e]+".css"})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="front:";o.l=(a,i,l,s)=>{if(e[a])e[a].push(i);else{var n,r;if(void 0!==l)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+l){n=u;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,o.nc&&n.setAttribute("nonce",o.nc),n.setAttribute("data-webpack",t+l),n.src=a),e[a]=[i];var m=(t,o)=>{n.onerror=n.onload=null,clearTimeout(p);var i=e[a];if(delete e[a],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((e=>e(o))),t)return t(o)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),r&&document.head.appendChild(n)}}})(),(()=>{o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{o.p=""})(),(()=>{var e=(e,t,o,a)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var l=l=>{if(i.onerror=i.onload=null,"load"===l.type)o();else{var s=l&&("load"===l.type?"missing":l.type),n=l&&l.target&&l.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.type=s,r.request=n,i.parentNode.removeChild(i),a(r)}};return i.onerror=i.onload=l,i.href=t,document.head.appendChild(i),i},t=(e,t)=>{for(var o=document.getElementsByTagName("link"),a=0;a<o.length;a++){var i=o[a],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===e||l===t))return i}var s=document.getElementsByTagName("style");for(a=0;a<s.length;a++){i=s[a],l=i.getAttribute("data-href");if(l===e||l===t)return i}},a=a=>new Promise(((i,l)=>{var s=o.miniCssF(a),n=o.p+s;if(t(s,n))return i();e(a,n,i,l)})),i={143:0};o.f.miniCss=(e,t)=>{var o={448:1,857:1};i[e]?t.push(i[e]):0!==i[e]&&o[e]&&t.push(i[e]=a(e).then((()=>{i[e]=0}),(t=>{throw delete i[e],t})))}})(),(()=>{var e={143:0};o.f.j=(t,a)=>{var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)a.push(i[2]);else{var l=new Promise(((o,a)=>i=e[t]=[o,a]));a.push(i[2]=l);var s=o.p+o.u(t),n=new Error,r=a=>{if(o.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var l=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;n.message="Loading chunk "+t+" failed.\n("+l+": "+s+")",n.name="ChunkLoadError",n.type=l,n.request=s,i[1](n)}};o.l(s,r,"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,a)=>{var i,l,[s,n,r]=a,d=0;if(s.some((t=>0!==e[t]))){for(i in n)o.o(n,i)&&(o.m[i]=n[i]);if(r)var c=r(o)}for(t&&t(a);d<s.length;d++)l=s[d],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},a=globalThis["webpackChunkfront"]=globalThis["webpackChunkfront"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=o.O(void 0,[736],(()=>o(4038)));a=o.O(a)})();